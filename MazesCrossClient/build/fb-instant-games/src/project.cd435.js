require=function a(c,s,l){function r(i,t){if(!s[i]){if(!c[i]){var e="function"==typeof require&&require;if(!t&&e)return e(i,!0);if(d)return d(i,!0);var n=new Error("Cannot find module '"+i+"'");throw n.code="MODULE_NOT_FOUND",n}var o=s[i]={exports:{}};c[i][0].call(o.exports,function(t){var e=c[i][1][t];return r(e||t)},o,o.exports,a,c,s,l)}return s[i].exports}for(var d="function"==typeof require&&require,t=0;t<l.length;t++)r(l[t]);return r}({AnimFunc:[function(t,e,i){"use strict";cc._RF.push(e,"069bcLwjtNB/LYJrOEJbxa+","AnimFunc"),cc.Class({extends:cc.Component,properties:{},shake:function(){cc.log("helpBtnShake");var t=cc.rotateTo(.1,15),e=cc.rotateTo(.1,0),i=cc.rotateTo(.1,-15),n=cc.rotateTo(.12,0),o=cc.repeat(cc.sequence(t,e,i,n),3);this.node.stopAllActions(),this.node.runAction(o)}}),cc._RF.pop()},{}],1:[function(t,e,i){e.exports={O_RDONLY:0,O_WRONLY:1,O_RDWR:2,S_IFMT:61440,S_IFREG:32768,S_IFDIR:16384,S_IFCHR:8192,S_IFBLK:24576,S_IFIFO:4096,S_IFLNK:40960,S_IFSOCK:49152,O_CREAT:512,O_EXCL:2048,O_NOCTTY:131072,O_TRUNC:1024,O_APPEND:8,O_DIRECTORY:1048576,O_NOFOLLOW:256,O_SYNC:128,O_SYMLINK:2097152,O_NONBLOCK:4,S_IRWXU:448,S_IRUSR:256,S_IWUSR:128,S_IXUSR:64,S_IRWXG:56,S_IRGRP:32,S_IWGRP:16,S_IXGRP:8,S_IRWXO:7,S_IROTH:4,S_IWOTH:2,S_IXOTH:1,E2BIG:7,EACCES:13,EADDRINUSE:48,EADDRNOTAVAIL:49,EAFNOSUPPORT:47,EAGAIN:35,EALREADY:37,EBADF:9,EBADMSG:94,EBUSY:16,ECANCELED:89,ECHILD:10,ECONNABORTED:53,ECONNREFUSED:61,ECONNRESET:54,EDEADLK:11,EDESTADDRREQ:39,EDOM:33,EDQUOT:69,EEXIST:17,EFAULT:14,EFBIG:27,EHOSTUNREACH:65,EIDRM:90,EILSEQ:92,EINPROGRESS:36,EINTR:4,EINVAL:22,EIO:5,EISCONN:56,EISDIR:21,ELOOP:62,EMFILE:24,EMLINK:31,EMSGSIZE:40,EMULTIHOP:95,ENAMETOOLONG:63,ENETDOWN:50,ENETRESET:52,ENETUNREACH:51,ENFILE:23,ENOBUFS:55,ENODATA:96,ENODEV:19,ENOENT:2,ENOEXEC:8,ENOLCK:77,ENOLINK:97,ENOMEM:12,ENOMSG:91,ENOPROTOOPT:42,ENOSPC:28,ENOSR:98,ENOSTR:99,ENOSYS:78,ENOTCONN:57,ENOTDIR:20,ENOTEMPTY:66,ENOTSOCK:38,ENOTSUP:45,ENOTTY:25,ENXIO:6,EOPNOTSUPP:102,EOVERFLOW:84,EPERM:1,EPIPE:32,EPROTO:100,EPROTONOSUPPORT:43,EPROTOTYPE:41,ERANGE:34,EROFS:30,ESPIPE:29,ESRCH:3,ESTALE:70,ETIME:101,ETIMEDOUT:60,ETXTBSY:26,EWOULDBLOCK:35,EXDEV:18,SIGHUP:1,SIGINT:2,SIGQUIT:3,SIGILL:4,SIGTRAP:5,SIGABRT:6,SIGIOT:6,SIGBUS:10,SIGFPE:8,SIGKILL:9,SIGUSR1:30,SIGSEGV:11,SIGUSR2:31,SIGPIPE:13,SIGALRM:14,SIGTERM:15,SIGCHLD:20,SIGCONT:19,SIGSTOP:17,SIGTSTP:18,SIGTTIN:21,SIGTTOU:22,SIGURG:16,SIGXCPU:24,SIGXFSZ:25,SIGVTALRM:26,SIGPROF:27,SIGWINCH:28,SIGIO:23,SIGSYS:12,SSL_OP_ALL:2147486719,SSL_OP_ALLOW_UNSAFE_LEGACY_RENEGOTIATION:262144,SSL_OP_CIPHER_SERVER_PREFERENCE:4194304,SSL_OP_CISCO_ANYCONNECT:32768,SSL_OP_COOKIE_EXCHANGE:8192,SSL_OP_CRYPTOPRO_TLSEXT_BUG:2147483648,SSL_OP_DONT_INSERT_EMPTY_FRAGMENTS:2048,SSL_OP_EPHEMERAL_RSA:0,SSL_OP_LEGACY_SERVER_CONNECT:4,SSL_OP_MICROSOFT_BIG_SSLV3_BUFFER:32,SSL_OP_MICROSOFT_SESS_ID_BUG:1,SSL_OP_MSIE_SSLV2_RSA_PADDING:0,SSL_OP_NETSCAPE_CA_DN_BUG:536870912,SSL_OP_NETSCAPE_CHALLENGE_BUG:2,SSL_OP_NETSCAPE_DEMO_CIPHER_CHANGE_BUG:1073741824,SSL_OP_NETSCAPE_REUSE_CIPHER_CHANGE_BUG:8,SSL_OP_NO_COMPRESSION:131072,SSL_OP_NO_QUERY_MTU:4096,SSL_OP_NO_SESSION_RESUMPTION_ON_RENEGOTIATION:65536,SSL_OP_NO_SSLv2:16777216,SSL_OP_NO_SSLv3:33554432,SSL_OP_NO_TICKET:16384,SSL_OP_NO_TLSv1:67108864,SSL_OP_NO_TLSv1_1:268435456,SSL_OP_NO_TLSv1_2:134217728,SSL_OP_PKCS1_CHECK_1:0,SSL_OP_PKCS1_CHECK_2:0,SSL_OP_SINGLE_DH_USE:1048576,SSL_OP_SINGLE_ECDH_USE:524288,SSL_OP_SSLEAY_080_CLIENT_DH_BUG:128,SSL_OP_SSLREF2_REUSE_CERT_TYPE_BUG:0,SSL_OP_TLS_BLOCK_PADDING_BUG:512,SSL_OP_TLS_D5_BUG:256,SSL_OP_TLS_ROLLBACK_BUG:8388608,ENGINE_METHOD_DSA:2,ENGINE_METHOD_DH:4,ENGINE_METHOD_RAND:8,ENGINE_METHOD_ECDH:16,ENGINE_METHOD_ECDSA:32,ENGINE_METHOD_CIPHERS:64,ENGINE_METHOD_DIGESTS:128,ENGINE_METHOD_STORE:256,ENGINE_METHOD_PKEY_METHS:512,ENGINE_METHOD_PKEY_ASN1_METHS:1024,ENGINE_METHOD_ALL:65535,ENGINE_METHOD_NONE:0,DH_CHECK_P_NOT_SAFE_PRIME:2,DH_CHECK_P_NOT_PRIME:1,DH_UNABLE_TO_CHECK_GENERATOR:4,DH_NOT_SUITABLE_GENERATOR:8,NPN_ENABLED:1,RSA_PKCS1_PADDING:1,RSA_SSLV23_PADDING:2,RSA_NO_PADDING:3,RSA_PKCS1_OAEP_PADDING:4,RSA_X931_PADDING:5,RSA_PKCS1_PSS_PADDING:6,POINT_CONVERSION_COMPRESSED:2,POINT_CONVERSION_UNCOMPRESSED:4,POINT_CONVERSION_HYBRID:6,F_OK:0,R_OK:4,W_OK:2,X_OK:1,UV_UDP_REUSEADDR:4}},{}],2:[function(t,e,i){var n=[].indexOf;e.exports=function(t,e){if(n)return t.indexOf(e);for(var i=0;i<t.length;++i)if(t[i]===e)return i;return-1}},{}],3:[function(t,e,i){var n,o,a=e.exports={};function c(){throw new Error("setTimeout has not been defined")}function s(){throw new Error("clearTimeout has not been defined")}function l(e){if(n===setTimeout)return setTimeout(e,0);if((n===c||!n)&&setTimeout)return n=setTimeout,setTimeout(e,0);try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}(function(){try{n="function"==typeof setTimeout?setTimeout:c}catch(t){n=c}try{o="function"==typeof clearTimeout?clearTimeout:s}catch(t){o=s}})();var r,d=[],u=!1,h=-1;function p(){u&&r&&(u=!1,r.length?d=r.concat(d):h=-1,d.length&&f())}function f(){if(!u){var t=l(p);u=!0;for(var e=d.length;e;){for(r=d,d=[];++h<e;)r&&r[h].run();h=-1,e=d.length}r=null,u=!1,function(e){if(o===clearTimeout)return clearTimeout(e);if((o===s||!o)&&clearTimeout)return o=clearTimeout,clearTimeout(e);try{o(e)}catch(t){try{return o.call(null,e)}catch(t){return o.call(this,e)}}}(t)}}function g(t,e){this.fun=t,this.array=e}function m(){}a.nextTick=function(t){var e=new Array(arguments.length-1);if(1<arguments.length)for(var i=1;i<arguments.length;i++)e[i-1]=arguments[i];d.push(new g(t,e)),1!==d.length||u||l(f)},g.prototype.run=function(){this.fun.apply(null,this.array)},a.title="browser",a.browser=!0,a.env={},a.argv=[],a.version="",a.versions={},a.on=m,a.addListener=m,a.once=m,a.off=m,a.removeListener=m,a.removeAllListeners=m,a.emit=m,a.prependListener=m,a.prependOnceListener=m,a.listeners=function(t){return[]},a.binding=function(t){throw new Error("process.binding is not supported")},a.cwd=function(){return"/"},a.chdir=function(t){throw new Error("process.chdir is not supported")},a.umask=function(){return 0}},{}],4:[function(t,e,i){"function"==typeof Object.create?e.exports=function(t,e){t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}})}:e.exports=function(t,e){t.super_=e;var i=function(){};i.prototype=e.prototype,t.prototype=new i,t.prototype.constructor=t}},{}],5:[function(t,e,i){e.exports=function(t){return t&&"object"==typeof t&&"function"==typeof t.copy&&"function"==typeof t.fill&&"function"==typeof t.readUInt8}},{}],6:[function(h,t,N){(function(n,o){var s=/%[sdj%]/g;N.format=function(t){if(!S(t)){for(var e=[],i=0;i<arguments.length;i++)e.push(l(arguments[i]));return e.join(" ")}i=1;for(var n=arguments,o=n.length,a=String(t).replace(s,function(t){if("%%"===t)return"%";if(o<=i)return t;switch(t){case"%s":return String(n[i++]);case"%d":return Number(n[i++]);case"%j":try{return JSON.stringify(n[i++])}catch(t){return"[Circular]"}default:return t}}),c=n[i];i<o;c=n[++i])v(c)||!d(c)?a+=" "+c:a+=" "+l(c);return a},N.deprecate=function(t,e){if(C(o.process))return function(){return N.deprecate(t,e).apply(this,arguments)};if(!0===n.noDeprecation)return t;var i=!1;return function(){if(!i){if(n.throwDeprecation)throw new Error(e);n.traceDeprecation?console.trace(e):console.error(e),i=!0}return t.apply(this,arguments)}};var t,a={};function l(t,e){var i={seen:[],stylize:r};return 3<=arguments.length&&(i.depth=arguments[2]),4<=arguments.length&&(i.colors=arguments[3]),y(e)?i.showHidden=e:e&&N._extend(i,e),C(i.showHidden)&&(i.showHidden=!1),C(i.depth)&&(i.depth=2),C(i.colors)&&(i.colors=!1),C(i.customInspect)&&(i.customInspect=!0),i.colors&&(i.stylize=c),p(i,t,i.depth)}function c(t,e){var i=l.styles[e];return i?"["+l.colors[i][0]+"m"+t+"["+l.colors[i][1]+"m":t}function r(t,e){return t}function p(e,i,n){if(e.customInspect&&i&&A(i.inspect)&&i.inspect!==N.inspect&&(!i.constructor||i.constructor.prototype!==i)){var t=i.inspect(n,e);return S(t)||(t=p(e,t,n)),t}var o=function(t,e){if(C(e))return t.stylize("undefined","undefined");if(S(e)){var i="'"+JSON.stringify(e).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return t.stylize(i,"string")}if(w(e))return t.stylize(""+e,"number");if(y(e))return t.stylize(""+e,"boolean");if(v(e))return t.stylize("null","null")}(e,i);if(o)return o;var a,c=Object.keys(i),s=(a={},c.forEach(function(t,e){a[t]=!0}),a);if(e.showHidden&&(c=Object.getOwnPropertyNames(i)),I(i)&&(0<=c.indexOf("message")||0<=c.indexOf("description")))return f(i);if(0===c.length){if(A(i)){var l=i.name?": "+i.name:"";return e.stylize("[Function"+l+"]","special")}if(b(i))return e.stylize(RegExp.prototype.toString.call(i),"regexp");if(_(i))return e.stylize(Date.prototype.toString.call(i),"date");if(I(i))return f(i)}var r,d="",u=!1,h=["{","}"];(m(i)&&(u=!0,h=["[","]"]),A(i))&&(d=" [Function"+(i.name?": "+i.name:"")+"]");return b(i)&&(d=" "+RegExp.prototype.toString.call(i)),_(i)&&(d=" "+Date.prototype.toUTCString.call(i)),I(i)&&(d=" "+f(i)),0!==c.length||u&&0!=i.length?n<0?b(i)?e.stylize(RegExp.prototype.toString.call(i),"regexp"):e.stylize("[Object]","special"):(e.seen.push(i),r=u?function(e,i,n,o,t){for(var a=[],c=0,s=i.length;c<s;++c)T(i,String(c))?a.push(g(e,i,n,o,String(c),!0)):a.push("");return t.forEach(function(t){t.match(/^\d+$/)||a.push(g(e,i,n,o,t,!0))}),a}(e,i,n,s,c):c.map(function(t){return g(e,i,n,s,t,u)}),e.seen.pop(),function(t,e,i){if(60<t.reduce(function(t,e){return 0,0<=e.indexOf("\n")&&0,t+e.replace(/\u001b\[\d\d?m/g,"").length+1},0))return i[0]+(""===e?"":e+"\n ")+" "+t.join(",\n  ")+" "+i[1];return i[0]+e+" "+t.join(", ")+" "+i[1]}(r,d,h)):h[0]+d+h[1]}function f(t){return"["+Error.prototype.toString.call(t)+"]"}function g(t,e,i,n,o,a){var c,s,l;if((l=Object.getOwnPropertyDescriptor(e,o)||{value:e[o]}).get?s=l.set?t.stylize("[Getter/Setter]","special"):t.stylize("[Getter]","special"):l.set&&(s=t.stylize("[Setter]","special")),T(n,o)||(c="["+o+"]"),s||(t.seen.indexOf(l.value)<0?-1<(s=v(i)?p(t,l.value,null):p(t,l.value,i-1)).indexOf("\n")&&(s=a?s.split("\n").map(function(t){return"  "+t}).join("\n").substr(2):"\n"+s.split("\n").map(function(t){return"   "+t}).join("\n")):s=t.stylize("[Circular]","special")),C(c)){if(a&&o.match(/^\d+$/))return s;(c=JSON.stringify(""+o)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(c=c.substr(1,c.length-2),c=t.stylize(c,"name")):(c=c.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),c=t.stylize(c,"string"))}return c+": "+s}function m(t){return Array.isArray(t)}function y(t){return"boolean"==typeof t}function v(t){return null===t}function w(t){return"number"==typeof t}function S(t){return"string"==typeof t}function C(t){return void 0===t}function b(t){return d(t)&&"[object RegExp]"===e(t)}function d(t){return"object"==typeof t&&null!==t}function _(t){return d(t)&&"[object Date]"===e(t)}function I(t){return d(t)&&("[object Error]"===e(t)||t instanceof Error)}function A(t){return"function"==typeof t}function e(t){return Object.prototype.toString.call(t)}function i(t){return t<10?"0"+t.toString(10):t.toString(10)}N.debuglog=function(e){if(C(t)&&(t=n.env.NODE_DEBUG||""),e=e.toUpperCase(),!a[e])if(new RegExp("\\b"+e+"\\b","i").test(t)){var i=n.pid;a[e]=function(){var t=N.format.apply(N,arguments);console.error("%s %d: %s",e,i,t)}}else a[e]=function(){};return a[e]},(N.inspect=l).colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},l.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},N.isArray=m,N.isBoolean=y,N.isNull=v,N.isNullOrUndefined=function(t){return null==t},N.isNumber=w,N.isString=S,N.isSymbol=function(t){return"symbol"==typeof t},N.isUndefined=C,N.isRegExp=b,N.isObject=d,N.isDate=_,N.isError=I,N.isFunction=A,N.isPrimitive=function(t){return null===t||"boolean"==typeof t||"number"==typeof t||"string"==typeof t||"symbol"==typeof t||void 0===t},N.isBuffer=h("./support/isBuffer");var u=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function T(t,e){return Object.prototype.hasOwnProperty.call(t,e)}N.log=function(){var t,e;console.log("%s - %s",(t=new Date,e=[i(t.getHours()),i(t.getMinutes()),i(t.getSeconds())].join(":"),[t.getDate(),u[t.getMonth()],e].join(" ")),N.format.apply(N,arguments))},N.inherits=h("inherits"),N._extend=function(t,e){if(!e||!d(e))return t;for(var i=Object.keys(e),n=i.length;n--;)t[i[n]]=e[i[n]];return t}}).call(this,h("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./support/isBuffer":5,_process:3,inherits:4}],7:[function(require,module,exports){var indexOf=require("indexof"),Object_keys=function(t){if(Object.keys)return Object.keys(t);var e=[];for(var i in t)e.push(i);return e},forEach=function(t,e){if(t.forEach)return t.forEach(e);for(var i=0;i<t.length;i++)e(t[i],i,t)},defineProp=function(){try{return Object.defineProperty({},"_",{}),function(t,e,i){Object.defineProperty(t,e,{writable:!0,enumerable:!1,configurable:!0,value:i})}}catch(t){return function(t,e,i){t[e]=i}}}(),globals=["Array","Boolean","Date","Error","EvalError","Function","Infinity","JSON","Math","NaN","Number","Object","RangeError","ReferenceError","RegExp","String","SyntaxError","TypeError","URIError","decodeURI","decodeURIComponent","encodeURI","encodeURIComponent","escape","eval","isFinite","isNaN","parseFloat","parseInt","undefined","unescape"];function Context(){}Context.prototype={};var Script=exports.Script=function(t){if(!(this instanceof Script))return new Script(t);this.code=t};Script.prototype.runInContext=function(e){if(!(e instanceof Context))throw new TypeError("needs a 'context' argument.");var t=document.createElement("iframe");t.style||(t.style={}),t.style.display="none",document.body.appendChild(t);var i=t.contentWindow,n=i.eval,o=i.execScript;!n&&o&&(o.call(i,"null"),n=i.eval),forEach(Object_keys(e),function(t){i[t]=e[t]}),forEach(globals,function(t){e[t]&&(i[t]=e[t])});var a=Object_keys(i),c=n.call(i,this.code);return forEach(Object_keys(i),function(t){(t in e||-1===indexOf(a,t))&&(e[t]=i[t])}),forEach(globals,function(t){t in e||defineProp(e,t,i[t])}),document.body.removeChild(t),c},Script.prototype.runInThisContext=function(){return eval(this.code)},Script.prototype.runInNewContext=function(e){var i=Script.createContext(e),t=this.runInContext(i);return forEach(Object_keys(i),function(t){e[t]=i[t]}),t},forEach(Object_keys(Script.prototype),function(i){exports[i]=Script[i]=function(t){var e=Script(t);return e[i].apply(e,[].slice.call(arguments,1))}}),exports.createScript=function(t){return exports.Script(t)},exports.createContext=Script.createContext=function(e){var i=new Context;return"object"==typeof e&&forEach(Object_keys(e),function(t){i[t]=e[t]}),i}},{indexof:2}],Enemy:[function(t,e,i){"use strict";cc._RF.push(e,"cfe104AL1BA4ZYID8PM1eVV","Enemy");t("./HexCell");cc.Class({extends:cc.Component,properties:{emeny:{default:null,type:cc.Node},_axialCoordinate:{default:cc.v2(0,0),visible:!1},axialCoordinate:{get:function(){return this._axialCoordinate},set:function(t){this._axialCoordinate=cc.v2(t.x,t.y)}}},onLoad:function(){},start:function(){},moveTo:function(){}}),cc._RF.pop()},{"./HexCell":"HexCell"}],GameApplication:[function(e,t,i){"use strict";cc._RF.push(t,"f08152UaoRPB64U7d0m5V+q","GameApplication");e("constants");var n=e("../GameLogic/SoundManager");cc.Class({extends:cc.Component,properties:{soundManager:{default:null,type:n},missions:{default:[]},missionsCB:{default:[]},conf:{default:{}},confCB:{default:[]},createShortcuted:{default:0,type:cc.Integer},effectView:{default:null,type:cc.Node},StepView:{default:null,type:cc.Node,visible:!1},StepView_prefab:{default:null,type:cc.Prefab},HeartView:{default:null,type:cc.Node,visible:!1},HeartView_prefab:{default:null,type:cc.Prefab},CoinView:{default:null,type:cc.Node,visible:!1},CoinView_prefab:{default:null,type:cc.Prefab},SharaView:{default:null,type:cc.Node,visible:!1},SharaView_prefab:{default:null,type:cc.Prefab},fbView_prefab:{default:null,type:cc.Prefab},_playTimes:{default:0,type:cc.Integer},playTimes:{get:function(){return this._playTimes},set:function(t){this._playTimes=t,SDK().plusPlayTimes()}},uiAtlas:{default:null,type:cc.SpriteAtlas},rewardList:{default:[],type:[cc.Node],visible:!1}},lerpACtion:function(t,e,i,n){null==this.agent&&(this.agent=new cc.Node("agent")),this.agent.stopAllActions();var o=this.agent;null!=t&&(o.x=t);var a=i/.02,c=e/a;o.runAction(cc.repeat(cc.sequence(cc.callFunc(function(){n(o)}.bind(this),this),cc.moveBy(.02,cc.v2(c,0))),a+1))},start:function(){SDK().getItem("curLang",function(t){null==t&&(t=0),this.setLanguage(window.nameArr[t])}.bind(this)),SDK().init()},getConf:function(i,n){null!=this.conf[i]?n&&n(this.conf[i]):cc.loader.loadRes(i,function(t,e){this.conf[i]=e,null!=n&&n(e)}.bind(this))},onLoad:function(){window.gameApplication=this;var t=cc.director.getCollisionManager();t.enabled=!0,t.enabledDebugDraw=!1,t.enabledDrawBoundingBox=!1,cc.loader.loadRes("conf/missions",function(t,e){this.missions=e,this.invokeMissionCB()}.bind(this)),this.openMainView(),this.curShowIdx=0},onDestroy:function(){cc.director.getCollisionManager().enabled=!1},setLanguage:function(t){e("LanguageData").init(t)},getMissions:function(t){null!=this.missions&&0<this.missions.length?t(this.missions):this.missionsCB.push(t)},invokeMissionCB:function(){var e=this;0<this.missionsCB.length&&this.missionsCB.forEach(function(t){null!=t&&t(e.missions)})},setNodeActive:function(t,e,i){var n=cc.find("Canvas/"+t);if(null!=n)if(e){if(n.active=e,"MainView"==n.name||"GameView"==n.name){null!=(a=cc.find("top",n))&&(a.active=!0);var o=cc.find("GoGame",n);null!=o&&(o.active=!1),n.runAction(cc.moveTo(.5,cc.v2(0,0)))}if(i)(c=cc.find("Bg",n)).scale=0,c.runAction(cc.scaleTo(.5,1).easing(cc.easeBounceOut(2)));else n.opacity=0,n.runAction(cc.fadeIn(.5))}else{var a,c;if("MainView"==n.name)null!=(a=cc.find("top",n))&&(a.active=!1),n.runAction(cc.sequence(cc.moveTo(.5,cc.v2(0,-cc.winSize.height)),cc.callFunc(function(){n.active=!0}.bind(this),this)));else"GameView"==n.name&&n.runAction(cc.sequence(cc.moveTo(.5,cc.v2(0,cc.winSize.height)),cc.callFunc(function(){n.active=e}.bind(this),this)));if(i)(c=cc.find("Bg",n)).runAction(cc.sequence(cc.scaleTo(.3,0).easing(cc.easeSineIn(2)),cc.callFunc(function(){n.active=!1}.bind(this),this)));else n.runAction(cc.fadeOut(.5))}},openMainView:function(t){null!=window.mainScirpt&&(window.mainScirpt.refreashVal(),t&&this.scheduleOnce(function(){window.gameApplication.flyReward(1,"starBig",window.mainScirpt.starts,null)}.bind(this),1)),this.setNodeActive("MainView",!0),this.setNodeActive("GameView",!1),this.openRankView(!1)},openGameView:function(){this.setNodeActive("GameView",!0),this.setNodeActive("MainView",!1),this.openRankView(!1)},openPopView:function(t,e){this.setNodeActive(t,e,!0)},openRankView:function(t){this.openPopView("RankView",t)},openGiftView:function(t){this.openPopView("GiftView",t)},openSetting:function(t){this.openPopView("SettingView",t)},settingClick:function(t,e){"1"==e?this.openSetting(!0):"2"==e&&this.openSetting(!1)},showVideoView:function(e,i){if(null==this.VideoView){var t=cc.instantiate(this.VideoView_prefab),n=cc.find("Canvas");t.parent=n,t.width=window.width,t.height=window.height,this.VideoView=t}this.VideoView.active=!0,this.VideoView.setSiblingIndex(this.VideoView.parent.childrenCount);var o=this.VideoView.getChildByName("Bg");o.scale=0,o.runAction(cc.scaleTo(.5,1).easing(cc.easeBounceOut(2)));var a=this.VideoView.getChildByName("Bg").getChildByName("Light");a.stopAllActions(),a.runAction(cc.repeatForever(cc.rotateBy(1.1,100)));var c=this.VideoView.getChildByName("Bg").getChildByName("Sure"),s=c.getChildByName("Text").getComponent(cc.Label);c.off(cc.Node.EventType.TOUCH_END);var l=0;this.checkDailyCount("video",!1,function(t){l=5-t,c.getComponent(cc.Button).interactable=0<l,i?s.string="FREE("+l+")":(s.string="FREE",c.getComponent(cc.Button).interactable=!0),c.on(cc.Node.EventType.TOUCH_END,function(t){(0<l||!i)&&(window.gameApplication.soundManager.playSound("btn_click"),this.onVideoBtnClick(function(t){e(t),this.VideoView.active=!t}.bind(this),i))},this)}.bind(this));var r=this.VideoView.getChildByName("Bg").getChildByName("Later");r.off(cc.Node.EventType.TOUCH_END),r.on(cc.Node.EventType.TOUCH_END,function(t){window.gameApplication.soundManager.playSound("btn_click"),e(!1),this.VideoView.active=!1},this)},showCoinView:function(e,i){if(null==this.CoinView){var t=cc.instantiate(this.CoinView_prefab),n=cc.find("Canvas");t.parent=n,t.width=window.width,t.height=window.height,this.CoinView=t}this.CoinView.active=!0,this.CoinView.setSiblingIndex(this.CoinView.parent.childrenCount);var o=this.CoinView.getChildByName("Bg");o.scale=0,o.runAction(cc.scaleTo(.5,1).easing(cc.easeBounceOut(2)));var a=this.CoinView.getChildByName("Bg").getChildByName("Bg").getChildByName("Light");a.stopAllActions(),a.runAction(cc.repeatForever(cc.rotateBy(1.1,100)));var c=this.CoinView.getChildByName("Bg").getChildByName("Bg").getChildByName("Sure"),s=c.getChildByName("Text").getComponent(cc.Label);c.off(cc.Node.EventType.TOUCH_END);var l=0;this.checkDailyCount("coinVideo",!1,function(t){l=5-t,c.getComponent(cc.Button).interactable=0<l,i?s.string="FREE("+l+")":(s.string="FREE",c.getComponent(cc.Button).interactable=!0),c.on(cc.Node.EventType.TOUCH_END,function(t){(0<l||!i)&&(window.gameApplication.soundManager.playSound("btn_click"),this.onVideoBtnClick(function(t){t&&o.runAction(cc.sequence(cc.scaleTo(.3,0).easing(cc.easeSineIn(2)),cc.callFunc(function(){this.CoinView.active=!1}.bind(this),this))),e(t)}.bind(this),i))},this)}.bind(this));var r=this.CoinView.getChildByName("Bg").getChildByName("Later");r.off(cc.Node.EventType.TOUCH_END),r.on(cc.Node.EventType.TOUCH_END,function(t){window.gameApplication.soundManager.playSound("btn_click"),e(!1),o.runAction(cc.sequence(cc.scaleTo(.3,0).easing(cc.easeSineIn(2)),cc.callFunc(function(){this.CoinView.active=!1}.bind(this),this)))},this)},showHeartView:function(e,i){if(null==this.HeartView){var t=cc.instantiate(this.HeartView_prefab),n=cc.find("Canvas");t.parent=n,t.width=window.width,t.height=window.height,this.HeartView=t}this.HeartView.active=!0,this.HeartView.setSiblingIndex(this.HeartView.parent.childrenCount);var o=this.HeartView.getChildByName("Bg");o.scale=0,o.runAction(cc.scaleTo(.5,1).easing(cc.easeBounceOut(2)));var a=this.HeartView.getChildByName("Bg").getChildByName("Bg").getChildByName("Light");a.stopAllActions(),a.runAction(cc.repeatForever(cc.rotateBy(1.1,100)));var c=this.HeartView.getChildByName("Bg").getChildByName("Bg").getChildByName("Video"),s=c.getChildByName("Text").getComponent(cc.Label);c.off(cc.Node.EventType.TOUCH_END);var l=0;this.checkDailyCount("heartVideo",!1,function(t){l=5-t,c.getComponent(cc.Button).interactable=0<l,i?s.string="FREE("+l+")":(s.string="FREE",c.getComponent(cc.Button).interactable=!0),c.on(cc.Node.EventType.TOUCH_END,function(t){(0<l||!i)&&(window.gameApplication.soundManager.playSound("btn_click"),this.onVideoBtnClick(function(t){t&&o.runAction(cc.sequence(cc.scaleTo(.3,0).easing(cc.easeSineIn(2)),cc.callFunc(function(){this.HeartView.active=!1}.bind(this),this))),e(t)}.bind(this),i))},this)}.bind(this));var r=this.HeartView.getChildByName("Bg").getChildByName("Bg").getChildByName("Share"),d=r.getChildByName("Text").getComponent(cc.Label);r.off(cc.Node.EventType.TOUCH_END);var u=0;this.checkDailyCount("heartShare",!1,function(t){u=5-t,r.getComponent(cc.Button).interactable=0<u,i?d.string="FREE("+u+")":(d.string="FREE",r.getComponent(cc.Button).interactable=!0),r.on(cc.Node.EventType.TOUCH_END,function(t){(0<u||!i)&&(window.gameApplication.soundManager.playSound("btn_click"),this.onShareBtnClick(function(t){t&&o.runAction(cc.sequence(cc.scaleTo(.3,0).easing(cc.easeSineIn(2)),cc.callFunc(function(){this.HeartView.active=!1}.bind(this),this))),e(t)}.bind(this),i))},this)}.bind(this));var h=this.HeartView.getChildByName("Bg").getChildByName("Later");h.off(cc.Node.EventType.TOUCH_END),h.on(cc.Node.EventType.TOUCH_END,function(t){window.gameApplication.soundManager.playSound("btn_click"),e(!1),o.runAction(cc.sequence(cc.scaleTo(.3,0).easing(cc.easeSineIn(2)),cc.callFunc(function(){this.HeartView.active=!1}.bind(this),this)))},this)},showStepView:function(e,i){if(null==this.StepView){var t=cc.instantiate(this.StepView_prefab),n=cc.find("Canvas");t.parent=n,t.width=window.width,t.height=window.height,this.StepView=t}this.StepView.active=!0,this.StepView.setSiblingIndex(this.StepView.parent.childrenCount);var o=this.StepView.getChildByName("Bg");o.scale=0,o.runAction(cc.scaleTo(.5,1).easing(cc.easeBounceOut(2)));var a=this.StepView.getChildByName("Bg").getChildByName("Bg").getChildByName("Video");a.off(cc.Node.EventType.TOUCH_END),a.on(cc.Node.EventType.TOUCH_END,function(t){window.gameApplication.soundManager.playSound("btn_click"),this.onVideoBtnClick(function(t){t&&o.runAction(cc.sequence(cc.scaleTo(.3,0).easing(cc.easeSineIn(2)),cc.callFunc(function(){this.StepView.active=!1}.bind(this),this))),e(t)}.bind(this),i)},this);var c=this.StepView.getChildByName("Bg").getChildByName("Bg").getChildByName("Coin");c.off(cc.Node.EventType.TOUCH_END),c.on(cc.Node.EventType.TOUCH_END,function(t){window.gameApplication.soundManager.playSound("btn_click"),SDK().getItem("coins",function(t){100<=t?(t-=100,SDK().setItem({coins:t}),e(!0),o.runAction(cc.sequence(cc.scaleTo(.3,0).easing(cc.easeSineIn(2)),cc.callFunc(function(){this.StepView.active=!1}.bind(this),this)))):window.gameApplication.showCoinView(function(t){t&&o.runAction(cc.sequence(cc.scaleTo(.3,0).easing(cc.easeSineIn(2)),cc.callFunc(function(){this.StepView.active=!1}.bind(this),this))),e(t)}.bind(this),!1)}.bind(this))},this);var s=this.StepView.getChildByName("Bg").getChildByName("Later");s.off(cc.Node.EventType.TOUCH_END),s.on(cc.Node.EventType.TOUCH_END,function(t){window.gameApplication.soundManager.playSound("btn_click"),e(!1),o.runAction(cc.sequence(cc.scaleTo(.3,0).easing(cc.easeSineIn(2)),cc.callFunc(function(){this.StepView.active=!1}.bind(this),this)))},this)},onVideoBtnClick:function(e,i){SDK().showVideoAd(function(t){null==t?(console.log("æ²¡æœ‰è§‚çœ‹æˆåŠŸ"),this.fbFail(1),null!=e&&e(!1)):t?(null!=e&&e(!0),i&&this.checkDailyCount("video",!0)):(console.log("æ²¡æœ‰è§‚çœ‹æˆåŠŸ"),this.fbFail(1),null!=e&&e(!1))}.bind(this))},checkDailyCount:function(i,n,o){var t=new Date,a=t.getMonth(),c=t.getDate();SDK().getItem(a+"_"+c+"_"+i,function(t){if(null==t&&(t=0),t=parseInt(t),n){t+=1;var e={};e[a+"_"+c+"_"+i]=t,SDK().setItem(e)}null!=o&&o(t)})},onGiftBtnClick:function(e){SDK().showInterstitialAd(function(t){null==t?(console.log("æ²¡æœ‰è§‚çœ‹æˆåŠŸ"),this.fbFail(1)):t?e(!0):(console.log("æ²¡æœ‰è§‚çœ‹æˆåŠŸ"),this.fbFail(1))}.bind(this),!0)},showSharaView:function(e){if(null==this.SharaView){var t=cc.instantiate(this.SharaView_prefab),i=cc.find("Canvas");t.parent=i,t.width=window.width,t.height=window.height,this.SharaView=t}this.SharaView.active=!0;var n=this.SharaView.getChildByName("Bg").getChildByName("Sure");n.off(cc.Node.EventType.TOUCH_END),n.on(cc.Node.EventType.TOUCH_END,function(t){this.onShareBtnClick(function(t){e(t),t&&(this.SharaView.active=!1)}.bind(this)),window.gameApplication.soundManager.playSound("btn_click")},this);var o=this.SharaView.getChildByName("Bg").getChildByName("Later");o.off(cc.Node.EventType.TOUCH_END),o.on(cc.Node.EventType.TOUCH_END,function(t){this.SharaView.active=!1,window.gameApplication.soundManager.playSound("btn_click")},this)},onShareBtnClick:function(i){SDK().getItem("all",function(e){SDK().share(e,function(t){t?(console.log("share:"+e),null!=i&&i(!0)):this.fbFail(2),this.soundManager.audioSource.play(),this.soundManager.audioSource.loop=!0}.bind(this))}.bind(this))},fbFail:function(t){var e=cc.instantiate(this.fbView_prefab),i=cc.find("Canvas");e.parent=i,e.width=window.width,e.height=window.height;var n=e.getChildByName("Okay");n.off(cc.Node.EventType.TOUCH_END),n.on(cc.Node.EventType.TOUCH_END,function(t){this.fbView.active=!1,n.parent.destroy(),window.gameApplication.soundManager.playSound("button")},this),this.fbView=e,1==t?(this.fbView.getChildByName("Bg").getChildByName("VideoText").active=!0,this.fbView.getChildByName("Bg").getChildByName("ShareText").active=!1):(this.fbView.getChildByName("Bg").getChildByName("VideoText").active=!1,this.fbView.getChildByName("Bg").getChildByName("ShareText").active=!0),this.fbView.active=!0},popClick:function(t,e){SDK().switchGameAsync(e)},shake:function(t){t.runAction(cc.repeatForever(cc.sequence(cc.rotateTo(.1,5).easing(cc.easeIn(2)),cc.rotateTo(.2,-5).easing(cc.easeIn(2)),cc.rotateTo(.2,5).easing(cc.easeIn(2)),cc.rotateTo(.1,0).easing(cc.easeIn(2)),cc.delayTime(.5))))},scaleUpAndDowm:function(t){t.runAction(cc.repeatForever(cc.sequence(cc.scaleTo(.3,1.1).easing(cc.easeIn(2)),cc.scaleTo(.6,.9).easing(cc.easeIn(2)),cc.scaleTo(.6,1.1).easing(cc.easeIn(2)),cc.scaleTo(.6,.9).easing(cc.easeIn(2)))))},flyReward:function(t,e,i,n,o){window.gameApplication.soundManager.playSound("getCoin");var a=void 0;null!=n?(a=n.parent.convertToWorldSpaceAR(n.position),a=this.effectView.convertToNodeSpaceAR(a)):a=cc.v2(0,0);var c=i.parent.convertToWorldSpaceAR(i.position);c=this.effectView.convertToNodeSpaceAR(c);for(var s=0;s<t;s++){var l=this.rewardList.pop();null==l&&(l=new cc.Node(s));var r=l.getComponent(cc.Sprite);null==r&&(r=l.addComponent(cc.Sprite)),l.parent=this.effectView,l.position=a,r.spriteFrame=this.uiAtlas.getSpriteFrame(e),this.flyAnim(l,c,o,s)}},flyAnim:function(t,e,i,n){t.scale=0,this.scheduleOnce(function(){t.runAction(cc.spawn(cc.moveTo(.8,cc.v2(e.x,e.y)),cc.sequence(cc.scaleTo(.4,1.1),cc.scaleTo(.4,0),cc.callFunc(function(){null!=i&&i(),this.rewardList.push(t)}.bind(this),this))))}.bind(this),.1*n)}}),cc._RF.pop()},{"../GameLogic/SoundManager":"SoundManager",LanguageData:"LanguageData",constants:1}],GameView:[function(t,e,i){"use strict";cc._RF.push(e,"3a5f4xh9CRAI6wc4y+upnjw","GameView");var I,A=t("../../Utils/Utils"),T=t("./HexCell"),d=t("./Role"),s=t("./Enemy"),o=t("./Tower"),N=100;cc.Class({extends:cc.Component,properties:{shootings:{default:[],type:[cc.Node]},invAgain:{default:null,type:cc.Node},mission:{default:null},gm:{default:null,type:cc.Node},title:{default:null,type:cc.Label},star1:{default:null,type:cc.Node},star2:{default:null,type:cc.Node},star3:{default:null,type:cc.Node},moves:{default:null,type:cc.Label},best:{default:null,type:cc.RichText},tileBox:{default:null,type:cc.Node},iceBox:{default:null,type:cc.Node},maxValidMoves:{default:0,type:cc.Integer,visible:!1},movesLeft:{default:0,type:cc.Integer,visible:!1},moved:{default:0,type:cc.Integer,visible:!1},leaveSteps:{default:null,type:cc.Node},levelDimensions:{default:cc.v2(0,0),visible:!1},gridOffset:{default:cc.v2(0,0),visible:!1},hexCellPrefab:{default:null,type:cc.Node},icePrefab:{default:null,type:cc.Node},rolePrefab:{default:null,type:cc.Node},enemyPrefab:{default:null,type:cc.Node},enemyPrefab1:{default:null,type:cc.Node},enemyPrefab2:{default:null,type:cc.Node},endPrefab:{default:null,type:cc.Node},allCells:{default:[],type:[T]},allTowers:{default:[],type:[o]},myRole:{default:null,type:d},enemys:{default:[]},helplines:{default:[]},stepsLines:{default:[]},endObj:{default:null,type:d},selectedLines:{default:[]},mouseIsDown:!1,userInputEnabled:!1,gameOver:!1,prevTilePosition:{default:cc.v2(-1e3,-1e3),visible:!1},mouseOffsetPos:{default:cc.v2(0,0),visible:!1},touchPos:{default:cc.v2(0,0),visible:!1},movePlus:{get:function(){return[cc.v2(0,1),cc.v2(-1,0),cc.v2(0,-1),cc.v2(1,0)]}},helpPath:{default:[]},helpShaked:{default:[]},helpBtn:{default:null,type:cc.Node},helpCountLabel:{default:null,type:cc.Label},_helpCount:{default:0,type:cc.Integer},helpCount:{get:function(){return this._helpCount},set:function(t){this._helpCount=t,this.helpCountLabel.string=t.toString();var e={};e.my_help=0<this._helpCount?this._helpCount:-1,SDK().setItem(e,null),this.helpBtn.getChildByName("icon").active=!0,this.helpBtn.getChildByName("num").active=!0}},shareFriendTip:{default:null,type:cc.Node},adSprite:{default:null,type:cc.Sprite},receiveGiftNode:{default:null,type:cc.Node},giftBtn:{default:null,type:cc.Node},preBtn:{default:null,type:cc.Node},nextBtn:{default:null,type:cc.Node},endView:{default:null,type:cc.Node},endView_Stars:{default:null,type:cc.Node},endView_title:{default:null,type:cc.Label},endView_text:{default:null,type:cc.RichText},gameApplication:{default:null,type:Object},isMoving:!1,lastDirection:{default:-1,type:cc.Integer},turnBackCount:{default:0,type:cc.Integer},timesNode:{default:null,type:cc.Node},timesVal:{default:null,type:cc.Label},timesLeft:{default:0,type:cc.Integer},timeOutflowCB:{default:null},timeIsUpNode:{default:null,type:cc.Node},timeIsUpEndNode:{default:null,type:cc.Node},gotMoreTime:!1,opad_game_id:null},onLoad:function(){this.node.width=cc.winSize.width,this.node.height=cc.winSize.height},plusMoreHelp:function(){this.helpCount+=plusHelp},clearHelp:function(){this.helpCount=0},clearData:function(){SDK().clearData()},onEnable:function(){this.scheduleOnce(function(){this.init()},.7),this.unschedule(this.shootingStars),this.schedule(this.shootingStars,4)},shootingStars:function(){for(var t=0;t<this.shootings.length;t+=1)this.shootAnim(this.shootings[t])},shootAnim:function(t){var e=3*cc.random0To1();t.x=cc.winSize.width+100,t.y=A.GetRandomNum(.5*cc.winSize.height,2*cc.winSize.height),this.scheduleOnce(function(){t.runAction(cc.moveBy(.5,cc.v2(-2.5*cc.winSize.width,-2.5*cc.winSize.width)))}.bind(this),e)},start:function(){var t=cc.find("GameApplication");null!=t&&(this.gameApplication=t.getComponent("GameApplication")),void 0!==this.gameApplication&&null!=this.gameApplication?(this.gm.active=!1,this.node.on(cc.Node.EventType.TOUCH_START,function(t){this.onMouseDown(t)},this),this.node.on(cc.Node.EventType.TOUCH_MOVE,function(t){this.onMouseMove(t)},this)):this.onBackBtnClicked()},onDisable:function(){this.clear()},clear:function(){this.unschedule(this.timeOutflow),this.clearTile(),this.allCells.splice(0,this.allCells.length),this.allTowers.splice(0,this.allTowers.length),this.selectedLines.splice(0,this.selectedLines.length),this.enemys.splice(0,this.enemys.length),this.helplines.splice(0,this.helplines.length),this.myRole=null,this.helpShaked.splice(0,this.helpShaked.length),null!=this.helpPath&&0<this.helpPath.length&&this.helpPath.splice(0,this.helpPath.length),N=100,this.mouseIsDown=!1,this.gameOver=!1,this.movesLeft=0,this.moved=0,this.turnBackCount=0,this.lastDirection=-1,this.isMoving=!1,this.currentLineColor=0,this.oldCurrentLineColor=0},clearTile:function(){if(0<this.tileBox.childrenCount)for(var t=0;t<this.tileBox.childrenCount;t++){null!=(e=this.tileBox.children[t])&&(e.active=!1,e.destroy())}if(0<this.iceBox.childrenCount)for(t=0;t<this.iceBox.childrenCount;t++){var e;null!=(e=this.iceBox.children[t])&&(e.active=!1,e.destroy())}},init:function(){var i=this;if(this.selectedLines=[],this.enemys=[],this.helplines=[],this.helpPath=[],this.myRole=null,this.isMoving=!1,this.endView.active=!1,this.timeIsUpNode.active=!1,this.gotMoreTime=!1,null!=bid&&0<bid&&null!=mid&&0<mid&&null!=lid&&0<lid){var t="conf/level_detail/b_"+bid+"/"+mid+"/"+lid;this.gameApplication.getConf(t,function(t){this.mission=t,this.initGame()}.bind(this));var e=[];1<lid&&e.push(lid-1),lid<100&&e.push(lid+1),e.forEach(function(t){var e="conf/level_detail/b_"+bid+"/"+mid+"/"+t;i.gameApplication.getConf(e,null)}),this.initHelpBtn()}else this.onBackBtnClicked()},initHelpBtn:function(){var e=this;SDK().getItem("my_help",function(t){e.helpCount=0==t?5:-1==t?0:t}.bind(this))},initGame:function(){var t=this.judgeIdx(mid,lid);window.lastPlay=t,this.timeIsUpNode.active=!1,this.timeIsUpEndNode.active=!1,this.gotMoreTime=!1,this.leaveSteps.active=!1,this.endView.active=!1,this.clear();var e=this.mission.lines.length;this.turnBackCount=0,this.helpShaked.splice(0,this.helpShaked.length),this.lastDirection=-1;var i="conf/level_list/level_"+bid+"_"+mid;this.gameApplication.getConf(i,function(t){var e=t;this.title.string=e.title+" "+lid}.bind(this)),this.moves.string="0/"+e,this.preBtn.active=!1,this.nextBtn.active=!1,SDK().getItem(bid+"_"+mid+"_"+lid+"_moves",function(t){this.best.string=t<=0?"-":t.toString()}.bind(this));var n=cc.v2(this.mission.x,this.mission.y);this.createGrid(n,this.mission.walls,this.mission.ice,this.mission.tower,function(){this.scheduleOnce(function(){if(this.createRole(this.mission.start,this.mission.end),this.initHelpPath(A.cloneObj(this.mission.lines)),0<this.mission.enemy.length&&this.createEnemy(this.mission.enemy),1==mid&&(this.moved=0,this.maxValidMoves=this.getSteps(),this.maxValidMoves=this.maxValidMoves+5,this.movesLeft=this.maxValidMoves,this.leaveSteps.active=!0,this.updateUI()),3==mid){var t=12;t=lid<=5?12:lid<=20?15:lid<=45?20:lid<=75?25:30,this.timesLeft=t,this.timesNode.active=!0,this.timesVal.string=t.toString();var e=t;this.schedule(this.timeOutflow,1,e,1)}else this.timesLeft=-1,this.timesNode.active=!1}.bind(this),.5)}.bind(this))},initHelpPath:function(t){if(2!=mid&&4!=mid&&6!=mid)this.helpPath=t;else{this.helpPath=[],this.helpPath.push(this.myRole.axialCoordinate);for(var e=0;0<t.length;){for(var i=0;i<t.length;i++){var n=t[i];if(null!=n){n=this.checkXY(n,0,0);for(var o=this.checkMovePos(n),a=0;a<o.length;a++){var c=this.helpPath[this.helpPath.length-1];if(o[a].x==c.x&&o[a].y==c.y){this.helpPath.push(t[i]),t.splice(i,1);break}}}}500<=++e&&(t.splice(0,t.length),t=[])}}this.stepsLines=this.helpPath},timeOutflow:function(){var t=this;0<this.timesLeft&&(this.timesLeft--,this.timesLeft<10&&1<this.timesLeft&&this.schedule(function(){t.gameApplication.soundManager.playSound("clock")},.5,2,0),this.timesNode.active=!0,this.timesVal.string=this.timesLeft.toString(),this.timesLeft<10?this.timesVal.node.color=cc.hexToColor("#ef3a40"):this.timesVal.node.color=cc.hexToColor("#ffffff"),0==this.timesLeft&&(this.gameOver=!0,this.gotMoreTime?(this.timeIsUpNode.active=!1,this.timeIsUpEndNode.active=!0):(SDK().hasVideoAd(),this.timeIsUpNode.active=!0,this.timeIsUpEndNode.active=!1),this.stopAllAction()))},getMoreTime:function(e,t){e.target.getComponent(cc.Button).interactable=!1,1==t?window.gameApplication.onVideoBtnClick(function(t){t&&(this.addTime(),this.timeIsUpNode.active=!1),e.target.getComponent(cc.Button).interactable=!0}.bind(this),!1):2==t&&SDK().getItem("coins",function(t){100<=t?(t-=100,SDK().setItem({coins:t}),this.addTime()):window.gameApplication.showCoinView(function(t){t&&this.addTime()}.bind(this),!1),e.target.getComponent(cc.Button).interactable=!0}.bind(this))},addTime:function(){this.timesLeft=10,this.timesNode.active=!0,this.timesVal.string="10";this.timeIsUpNode.active=!1,this.gotMoreTime=!0,this.gameOver=!1,this.unschedule(this.timeOutflow),this.schedule(this.timeOutflow,1,10,1)},getMoreTimeInv:function(e){var i=this;SDK().getItem("all",function(t){SDK().share(t,function(t){if(t){i.timesLeft=10,i.timesNode.active=!0,i.timesVal.string="10";i.gotMoreTime=!0,i.gameOver=!1,i.unschedule(this.timeOutflow),i.schedule(i.timeOutflow,1,10,1)}else i.showInvAgain(3,e);e.target.getComponent(cc.Button).interactable=!0}.bind(this))}.bind(this))},restarGame:function(t){this.myRole.node.stopAllActions(),this.unschedule(this.timeOutflow),this.timesVal.node.color=cc.hexToColor("#ffffff"),this.timeIsUpNode.active=!1,this.gotMoreTime=!1,this.endView.active=!1,this.selectedLines.splice(0,this.selectedLines.length),this.enemys.splice(0,this.enemys.length),this.helplines.splice(0,this.helplines.length),this.helpPath.splice(0,this.helpPath.length),this.helpShaked.splice(0,this.helpShaked.length),this.isMoving=!1,this.movesLeft=this.maxValidMoves,this.moved=0,this.turnBackCount=0,this.lastDirection=-1,null!=t&&0<t?this.scheduleOnce(function(){this.gameOver=!1,this.myRole=null,this.initGame()},t):(this.gameOver=!1,this.myRole=null,this.initGame())},getSteps:function(){var t=[],e=null,i=0;null==e&&(e=this.checkXY(this.stepsLines[0],0,0),i=0),t.push(cc.v2(e.x,e.y));for(var n=1;i<this.stepsLines.length;)for(var o=!0;i<this.stepsLines.length&&o;){if(e=this.checkXY(this.stepsLines[i],0,0),t.push(cc.v2(e.x,e.y)),this.getCellByCoordinate(e))2<this.checkCanMoveCount(this.checkMove(e))&&1<t.length&&(o=!1,n++);i++}return n},help:function(){if(!(this.gameOver||null==this.myRole||this.helpPath.length<=0)){var t=null,e=0;if(0<this.selectedLines.length)for(var i=this.helpPath.length-1;0<=i;i--)for(var n=this.checkXY(this.helpPath[i],0,0),o=cc.v2(n.x,n.y),a=this.selectedLines.length-1;0<=a;a--){var c=this.selectedLines[a];if(null==t&&o.equals(c)){t=o,e=i;break}}null==t&&(t=this.checkXY(this.helpPath[0],0,0),e=0),this.showHelpLine(t,e)}},showHelpLine:function(t,e){if(!(this.helpPath.length<=0)){var i=this,n=cc.v2(t.x,t.y);0<this.helplines.length&&(n=this.helplines[this.helplines.length-1]);for(var o=0;o<this.helpPath.length;o++){var a=this.helpPath[o];if(n.equals(a)){n=cc.v2(a.x,a.y),e=o;break}}e<this.helpPath.length-1&&this.helpCount--,this.helplines.length<=0&&(!n.equals(this.myRole.axialCoordinate)&&A.isNeighbors(n,this.myRole.axialCoordinate)&&i.helplines.push(cc.v2(this.myRole.axialCoordinate.x,this.myRole.axialCoordinate.y)),i.helplines.push(cc.v2(n.x,n.y)));for(var c=!0;++e<this.helpPath.length&&c;){if(t=this.checkXY(this.helpPath[e],0,0),i.helplines.push(cc.v2(t.x,t.y)),s=i.getCellByCoordinate(t))2<this.checkCanMoveCount(this.checkMove(t))&&1<i.helplines.length&&!s.isIce&&i.helplines.length>i.selectedLines.length&&(c=!1)}if(1<i.helplines.length)for(o=0;o<i.helplines.length;o++){var s,l=i.helplines[o];(s=i.getCellByCoordinate(l))&&(0==o?s.showStartHelp(i.helplines[o+1]):o==i.helplines.length-1?s.showEndHelp(i.helplines[i.helplines.length-2]):s.showHelp(i.helplines[o-1],i.helplines[o+1]))}}},update:function(t){if(!this.gameOver){if(0<this.enemys.length)for(var e=0;e<this.enemys.length;e++){var i=this.enemys[e];this.roundMove(i)}if(0<this.allTowers.length)for(e=0;e<this.allTowers.length;e++){var n=this.allTowers[e];this.towerShoot(n)}}},towerShoot:function(t){if(!t.isShooting){t.isShooting=!0,t.bubble.active=!0;var e=this.checkMove(t.bubbleAxialCoordinate),i=-1;if(-1!=t.direction&&e[t.direction]&&(i=t.direction),-1==i){var n=cc.callFunc(function(){t.bubble.getComponent("NormalAnimation").play()},this),o=cc.delayTime(1),a=cc.callFunc(function(){t.bubbleAxialCoordinate=t.axialCoordinate,t.bubble.position=cc.pCompMult(t.node.getPosition(),cc.v2(.5,.5)),t.bubble.opacity=0},this),c=cc.delayTime(t.delay),s=cc.callFunc(function(){t.isShooting=!1,t.bubble.opacity=255},this),l=cc.sequence(n,o,a,c,s);t.bubble.runAction(l)}else{var r,d=t.bubbleAxialCoordinate.add(this.movePlus[i]),u=this.getCellByCoordinate(d),h=this.tileBox.convertToWorldSpaceAR(u.node.getPosition()),p=t.node.convertToNodeSpaceAR(h);r=1==i?cc.v2(-1*p.y,-1*p.x):2==i?cc.v2(-1*p.x,-1*p.y):3==i?cc.v2(p.y,p.x):cc.v2(p.x,p.y);var f=cc.moveTo(.3*t.s,r.y,r.x);n=cc.callFunc(function(){t.bubbleAxialCoordinate=d,t.isShooting=!1},this),l=cc.sequence(f,n);t.bubble.runAction(l)}}},roundMove:function(t){if(!t.isMoving){t.isMoving=!0;var e=this.checkMove(t.axialCoordinate),i=-1;if(-1!=t.direction&&e[t.direction]&&1==this.checkMoveDirectionCount(e,t.direction)||-1!=t.direction&&e[t.direction]&&.6<Math.random())i=t.direction;else for(;-1==i;){var n=A.GetRandomNum(0,3);e[n]&&(i=n)}t.direction=i;var o=t.axialCoordinate.add(this.movePlus[i]),a=this.getCellByCoordinate(o).node.getPosition(),c=cc.moveTo(1,a.x,a.y),s=cc.callFunc(function(){t.axialCoordinate=o,t.isMoving=!1},this),l=cc.sequence(c,s);t.node.runAction(l)}},onMouseDown:function(t){this.gameOver||null==this.myRole||(this.mouseIsDown=!0,this.touchPos=this.tileBox.convertToNodeSpaceAR(t.getLocation()))},onMouseMove:function(t){if(!this.gameOver&&null!=this.myRole&&this.mouseIsDown){var e=this.tileBox.convertToNodeSpaceAR(t.getLocation()),i=e.x-this.touchPos.x,n=e.y-this.touchPos.y;if(Math.abs(i)<30&&Math.abs(n)<30)return;Math.abs(i)>Math.abs(n)?i<0?this.doAction(1,!0):this.doAction(3,!0):0<n?this.doAction(0,!0):this.doAction(2,!0),this.mouseIsDown=!1}},getCellByCoordinate:function(t){for(var e=0;e<this.allCells.length;e++){var i=this.allCells[e];if(i.axialCoordinate.equals(t))return i}return null},stopAllAction:function(){cc.log("stopAllAction")},die:function(){this.unschedule(this.timeOutflow),this.gameOver=!0,this.myRole.playDie(),this.gameApplication.soundManager.playSound("error"),this.scheduleOnce(function(){this.gameApplication.openMainView()}.bind(this),1)},showGameOver:function(){if(null!=bid&&0<bid&&null!=mid&&0<mid&&null!=lid&&0<lid){var t=[];lid<100&&t.push(lid+1),t.forEach(function(t){var e="conf/level_detail/b_"+bid+"/"+mid+"/"+t;window.gameApplication.getConf(e,null)})}this.gameApplication.soundManager.playSound("gamewin"),this.unschedule(this.timeOutflow),this.timeIsUpNode.active=!1;var i=this;this.gameOver=!0,this.endView.active=!0,this.stopAllAction();var e=0;e=this.turnBackCount<=0?3:this.turnBackCount<=6?2:1,this.endView_title.string=3==e?"GREAT":2==e?"GOOD":"CLEAR",this.endView_title.string="COMPLETED",this.endView_text.string="You finish with "+this.moved+" moves",this.giftBtn.active=!0,SDK().getItem(bid+"_"+mid+"_"+lid,function(t){if(SDK().getItem("curIdx",function(t){var e=this.judgeIdx(mid,lid);if(t<e+1){var i={};window.curIdx=e+1,i.curIdx=window.curIdx,SDK().setItem(i,function(){window.mainScirpt.initStage(window.curIdx)}.bind(this))}}.bind(this)),t<1){var e={};e[bid+"_"+mid+"_"+lid]=1;var i=0;SDK().setItem(e,function(){2<=++i&&this.scheduleOnce(function(){this.endView.active=!1;var t=this.judgeIdx(mid,lid);window.mainScirpt.initStage(t),this.gameApplication.openMainView(!0),t%10==0&&0!=t&&window.timeGiftScript.showTimeGiftView(2)}.bind(this),1)}.bind(this));SDK().getItem("all",function(t){t+=1,SDK().setRankScore(2,t,"{}",null),SDK().setItem({all:t},function(){2<=++i&&this.scheduleOnce(function(){this.endView.active=!1;var t=this.judgeIdx(mid,lid);window.mainScirpt.initStage(t),this.gameApplication.openMainView(!0),t%10==0&&0!=t&&window.timeGiftScript.showTimeGiftView(2)}.bind(this),1)}.bind(this))}.bind(this)),SDK().getItem(bid+"_"+mid,function(t){t+=1;var e={};e[bid+"_"+mid]=t,SDK().setItem(e,null)}.bind(this))}else this.scheduleOnce(function(){this.endView.active=!1,this.gameApplication.openMainView()}.bind(this),1)}.bind(this)),SDK().getItem(bid+"_"+mid+"_"+lid+"_moves",function(t){if(i.moved<t||t<=0){var e={};e[bid+"_"+mid+"_"+lid+"_moves"]=i.moved,SDK().setItem(e,null)}}.bind(this)),this.gameApplication.playTimes++},judgeIdx:function(t,e){var i=0;return 50<=e?(e-=50,i=(i=300)+10*(t-1)+50*Math.floor((e-1)/10)+e%10):i=10*(t-1)+60*Math.floor((e-1)/10)+(e-1)%10,i},onOpAdClicked:function(){null!=this.opad_game_id&&SDK().switchGameAsync(this.opad_game_id)},checkWin:function(){var t=this.myRole.axialCoordinate.equals(this.endObj.axialCoordinate);return t&&this.showGameOver(),t},moveEnd:function(){if(this.isMoving=!1,!this.checkWin()){var t=this.checkMove();this.gameApplication.soundManager.playSound("done"),this.getCellByCoordinate(this.myRole.axialCoordinate).isIce&&t[this.lastDirection]?this.doAction(this.lastDirection,!0):(this.moved++,this.movesLeft--,0<this.turnBackCount&&this.turnBackCount%2==0&&!A.inArray(this.turnBackCount,this.helpShaked)&&(this.helpBtnShake(),this.helpShaked.push(this.turnBackCount)),this.myRole.setArrow(t[0],t[1],t[2],t[3]))}this.updateUI()},addSelectedLines:function(t){var n=this;if(2<=this.selectedLines.length&&t.equals(this.selectedLines[this.selectedLines.length-2])){var e=this.selectedLines.pop();this.getCellByCoordinate(e).hideLine()}else this.selectedLines.push(cc.v2(t.x,t.y));1<this.selectedLines.length&&this.scheduleOnce(function(){for(var t=0;t<=n.selectedLines.length-1;t++){var e=n.selectedLines[t];(i=n.getCellByCoordinate(e)).hideLine()}for(t=0;t<=n.selectedLines.length-1;t++){e=n.selectedLines[t];var i=n.getCellByCoordinate(e);0==t?i.showStartLine(n.selectedLines[t+1]):t==n.selectedLines.length-1?i.showEndLine(n.selectedLines[n.selectedLines.length-2]):i.showLine(n.selectedLines[t-1],n.selectedLines[t+1])}},.08)},doAction:function(t,e){if(!this.isMoving&&!this.gameOver){this.isMoving=!0,this.myRole.hideArrow();var i=this,n=this.checkMove();if(!e&&1<this.checkMoveDirectionCount(n,t))this.moveEnd();else if(n[t]){var o=this.myRole.axialCoordinate.add(this.movePlus[t]);if(null!=(r=this.getCellByCoordinate(o))){(0==t?2==this.lastDirection:3==t?1==this.lastDirection:1==t?3==this.lastDirection:0==this.lastDirection)&&this.turnBackCount++,this.lastDirection=t;var a=r.node.getPosition(),c=cc.moveTo(.12,a.x,a.y),s=cc.callFunc(function(){i.myRole.axialCoordinate=o,i.isMoving=!1,i.checkWin()||i.doAction(t,!1)},this);this.addSelectedLines(o);var l=cc.sequence(c,s);i.myRole.node.runAction(l)}}else{var r;if(this.gameApplication.soundManager.playSound("done"),1==this.checkMoveDirectionCount(n,t)){if(t=this.getkMoveDirection(n,t),!this.checkWin())(r=this.getCellByCoordinate(this.myRole.axialCoordinate)).isIce?this.moveEnd():(this.isMoving=!1,i.doAction(t,!0))}else this.moveEnd()}}},getkMoveDirection:function(t,e){var i;i=0==e?2:3==e?1:1==e?3:0;for(var n=0;n<t.length;n++){if(t[n]&&n!=i)return n}},checkCanMoveCount:function(t){for(var e=0,i=0;i<t.length;i++){t[i]&&e++}return e},checkMoveDirectionCount:function(t,e){var i;i=0==e?2:3==e?1:1==e?3:0;for(var n=0,o=0;o<t.length;o++){t[o]&&o!=i&&n++}return n},checkMove:function(t){null==t&&(t=this.myRole.axialCoordinate);var e=A.getNeighborsOBJ(t),i=!0,n=!0,o=!0,a=!0,c=this.getCellByCoordinate(t);if(null!=c&&(c.leftActive&&(n=!1),c.rightActive&&(a=!1),c.topActive&&(i=!1),c.bottomActive&&(o=!1)),i){var s=this.getCellByCoordinate(e.t);null!=s&&s.bottomActive&&(i=!1)}if(o){var l=this.getCellByCoordinate(e.b);null!=l&&l.topActive&&(o=!1)}if(n){var r=this.getCellByCoordinate(e.l);null!=r&&r.rightActive&&(n=!1)}if(a){var d=this.getCellByCoordinate(e.r);null!=d&&d.leftActive&&(a=!1)}return[i,n,o,a]},checkMovePos:function(t){null==t&&(t=this.myRole.axialCoordinate);var e=A.getNeighborsOBJ(t),i=e.t,n=e.l,o=e.b,a=e.r,c=this.getCellByCoordinate(t);if(null!=c&&(c.leftActive&&(n=cc.v2(-1,-1)),c.rightActive&&(a=cc.v2(-1,-1)),c.topActive&&(i=cc.v2(-1,-1)),c.bottomActive&&(o=cc.v2(-1,-1))),i){var s=this.getCellByCoordinate(e.t);null!=s&&s.bottomActive&&(i=cc.v2(-1,-1))}if(o){var l=this.getCellByCoordinate(e.b);null!=l&&l.topActive&&(o=cc.v2(-1,-1))}if(n){var r=this.getCellByCoordinate(e.l);null!=r&&r.rightActive&&(n=cc.v2(-1,-1))}if(a){var d=this.getCellByCoordinate(e.r);null!=d&&d.leftActive&&(a=cc.v2(-1,-1))}return[i,n,o,a]},createEnemy:function(t){var e=N/100;if(!(t.length<=0))for(var i=0;i<t.length;i++){var n,o=t[i],a=this.getCellByCoordinate(cc.v2(o.x,o.y)),c=Math.random();(n=c<.33?cc.instantiate(this.enemyPrefab):c<.66?cc.instantiate(this.enemyPrefab1):cc.instantiate(this.enemyPrefab2)).parent=this.tileBox,n.setScale(e),n.setPosition(a.node.getPosition()),n.active=!0,(o=n.getComponent(s)).axialCoordinate=a.axialCoordinate,this.enemys.push(o)}},createRole:function(t,e){var i=N/100;t=this.checkXY(t,0,0),e=this.checkXY(e,0,0);var n=this.getCellByCoordinate(cc.v2(t.x,t.y)),o=this.getCellByCoordinate(cc.v2(e.x,e.y)),a=cc.instantiate(this.rolePrefab);a.parent=this.tileBox,a.setScale(i),a.setPosition(n.node.getPosition()),a.active=!0;var c=a.getComponent(d);this.myRole=c,this.myRole.init(),this.myRole.axialCoordinate=n.axialCoordinate,this.selectedLines.push(cc.v2(n.axialCoordinate.x,n.axialCoordinate.y));var s=this.checkMove();this.myRole.setArrow(s[0],s[1],s[2],s[3]);var l=cc.instantiate(this.endPrefab);l.parent=this.tileBox,l.setScale(i),l.setPosition(o.node.getPosition()),l.active=!0;var r=(this.endNode=l).getComponent(d);this.endObj=r,this.endObj.axialCoordinate=o.axialCoordinate,(this.myRole.gameView=this).myRole.setDark(4==mid)},collisionCallback:function(){this.die()},createGrid:function(t,e,s,l,r){this.gridOffset.x=0,this.gridOffset.y=0;Math.max(t.x,t.y);var i=cc.director.getWinSize(),n=this.tileBox.getContentSize(),o=n.height,a=i.width;if(o<(N=(a-(lineWidth-lineWidth*t.x))/t.x)*t.y){var c=((a=n.height)-(lineWidth-lineWidth*t.y))/t.y;c<N&&(N=c,this.gridOffset.x=.5*(i.width-t.x*N+t.x*lineWidth))}var d,u=I=N;this.levelDimensions=t;var h=cc.v2(0,0),p=cc.v2(0,0),f=.5*(n.height-this.levelDimensions.y*N+this.levelDimensions.y*lineWidth);this.gridOffset.y=-1*n.height+f;for(var g=0;g<this.levelDimensions.x;g++)for(var m=0;m<this.levelDimensions.y;m++){h.x=g,h.y=m,(p=A.axialToScreen(h,I)).x+=this.gridOffset.x,p.y+=this.gridOffset.y,(d=cc.instantiate(this.hexCellPrefab)).parent=this.tileBox,d.setPosition(p.add(cc.v2(0,1e3))),d.setContentSize(cc.size(u,u)),d.active=!0;var y=this;m%2==0?d.runAction(cc.sequence(cc.moveTo(.2+.05*h.y,p.x,p.y),cc.callFunc(function(){y.gameApplication.soundManager.playSound("uplock")}))):d.runAction(cc.moveTo(.2+.05*h.y,p.x,p.y)),d.name="grid"+g.toString()+"_"+m.toString(),d.zIndex=0,(S=d.getComponent(T)).scaleChild(u/100,u/100),S.axialCoordinate=h,this.allCells.push(S)}if(!(null==e||e.length<=0)){for(y=this,g=0;g<e.length;g++){var v,w,S,C=e[g],b=y.checkXY(C.w1,0,0),_=y.checkXY(C.d1,0,0);b.x<_.x||b.y>_.y?(v=b,w=_):(v=_,w=b),(S=this.getCellByCoordinate(cc.v2(v.x,v.y-1)))?v.x==w.x?S.setLeft(!0):S.setTop(!0):(S=this.getCellByCoordinate(cc.v2(v.x,v.y)))?v.x==w.x?S.setRight(!0):S.setBottom(!0):(S=this.getCellByCoordinate(cc.v2(v.x-1,v.y-1)))&&(v.x==w.x?S.setRight(!0):S.setBottom(!0))}this.scheduleOnce(function(){if(this.scheduleOnce(function(){if(null!=s&&0<s.length)for(var t=0;t<s.length;t++){var e=s[t],i=this.getCellByCoordinate(cc.v2(e.x,e.y));if(null!=i){i.setIce(!0);var n=cc.instantiate(this.icePrefab);n.parent=this.iceBox,n.setPosition(i.node.getPosition()),n.setContentSize(i.node.getContentSize()),n.active=!0,n.setScale(.3,.3),n.runAction(cc.scaleTo(.35,1,1))}}}.bind(this),1),null!=l&&0<l.length)for(var t=0;t<l.length;t++){var e,i,n=l[t],o=y.checkXY(n.w1,0,0),a=y.checkXY(n.d1,0,0),c=null;o.x<a.x||o.y>a.y?(e=o,i=a):(e=a,i=o),1==n.direction?null==(c=this.getCellByCoordinate(cc.v2(Math.max(e.x,i.x)-1,i.y)))&&(c=this.getCellByCoordinate(cc.v2(Math.max(e.x,i.x),i.y))):3==n.direction?null==(c=this.getCellByCoordinate(cc.v2(Math.max(e.x,i.x),i.y)))&&(c=this.getCellByCoordinate(cc.v2(Math.max(e.x,i.x)-1,i.y))):0==n.direction?null==(c=this.getCellByCoordinate(cc.v2(e.x,Math.min(e.y,i.y))))&&(c=this.getCellByCoordinate(cc.v2(e.x,Math.max(e.y,i.y)))):2==n.direction&&null==(c=this.getCellByCoordinate(cc.v2(e.x,Math.max(e.y,i.y)-1)))&&(c=this.getCellByCoordinate(cc.v2(e.x,Math.max(e.y,i.y)))),null!=c&&(e.x==i.x?1==n.direction?(c.setRightTower(!0),this.pushTower(c.rightTower,c.axialCoordinate,n)):(c.setLeftTower(!0),this.pushTower(c.leftTower,c.axialCoordinate,n)):0==n.direction?(c.setTopTower(!0),this.pushTower(c.topTower,c.axialCoordinate,n)):(c.setBottomTower(!0),this.pushTower(c.bottomTower,c.axialCoordinate,n)),c.node.zIndex=1)}r&&r()}.bind(this),.5+.05*this.levelDimensions.y)}},pushTower:function(t,e,i){var n=t.getComponent(o);n.axialCoordinate=e,n.init(i),this.allTowers.push(n)},checkXY:function(t,e,i){return null==t.x&&(t.x=i),null==t.y&&(t.y=e),t},updateUI:function(){this.moves.string=this.movesLeft+"/"+this.maxValidMoves,this.movesLeft<=0&&1==mid&&(this.gameOver=!0,window.gameApplication.showStepView(function(t){t?(this.gameOver=!1,this.movesLeft=5,this.updateUI()):this.gameApplication.openMainView()}.bind(this),!1))},setStar:function(t,e,i){},onBackBtnClicked:function(t){null!=this.gameApplication&&this.gameApplication.soundManager.playSound("btn_click"),this.gameApplication.openMainView()},onNextBtnClicked:function(t){var e=t.target.getComponent(cc.Button);e.interactable=!1,this.scheduleOnce(function(){e.interactable=!0},1),this.gameApplication.soundManager.playSound("btn_click"),this.nextGame(e)},onPreviousBtnClicked:function(t){var e=t.target.getComponent(cc.Button);e.interactable=!1,this.scheduleOnce(function(){e.interactable=!0},1),this.gameApplication.soundManager.playSound("btn_click"),this.prevGame()},onReStarBtnClicked:function(t){this.timeIsUpNode.active=!1;var e=t.target.getComponent(cc.Button);e.interactable=!1,this.scheduleOnce(function(){e.interactable=!0},.2),window.gameApplication.soundManager.playSound("btn_click"),window.gameApplication.openMainView()},onHelpBtnClicked:function(t){this.gameOver||null==this.myRole||this.helpPath.length<=0||(0<this.helpCount?(window.gameApplication.soundManager.playSound("btn_click"),this.help()):(window.gameApplication.soundManager.playSound("btn_click"),this.shareFriendTip.active=!0))},onWatchVideoBtnClicked:function(e){e.target.getComponent(cc.Button).interactable=!1;var i=this;SDK().showVideoAd(function(t){t?i.helpCount=plusHelp:cc.log("æ’­æ”¾è§†é¢‘å¹¿å‘Šå¤±è´¥"),e.target.getComponent(cc.Button).interactable=!0,i.shareFriendTip.active=!1}.bind(this))},onShareInvBtnClicked:function(e){this.gameApplication.soundManager.playSound("btn_click");var i=this;this.gameApplication.soundManager.playSound("done"),SDK().getItem("all",function(t){SDK().share(t,function(t){t?(i.helpCount=plusHelp,console.log("é‚€è¯·æˆåŠŸ")):(console.log("é‚€è¯·å¤±è´¥"),i.showInvAgain(1,e)),e.target.getComponent(cc.Button).interactable=!0,i.shareFriendTip.active=!1})}.bind(this))},showInvAgain:function(t,e){var i=this;this.invAgain.active=!0,cc.find("box/btn_4",this.invAgain).getComponent(cc.Button).node.on("click",function(){1==t?i.onShareInvBtnClicked(e):2==t?i.onShareBtnClicked(e):3==t&&i.getMoreTimeInv(e),i.invAgain.active=!1},this)},onCloseWatchVideoTipClicked:function(){this.gameApplication.soundManager.playSound("btn_click"),this.shareFriendTip.active=!1},onShareBtnClicked:function(e){var i=this;this.gameApplication.soundManager.playSound("btn_click"),e.target.getComponent(cc.Button).interactable=!1,e.target.active=!0,this.gameApplication.soundManager.playSound("done"),SDK().getItem("all",function(t){SDK().share(t,function(t){e.target.getComponent(cc.Button).interactable=!0,e.target.active=!0,t||i.showInvAgain(2,e)})}.bind(this))},helpBtnShake:function(){this.helpBtn.getComponent("AnimFunc").shake()},onGiftBtnClicked:function(){this.receiveGiftNode.active=!1},onPlayInterstitialGiftBtnClicked:function(t){var e=this;e.gameApplication.soundManager.playSound("done"),SDK().showInterstitialAd(function(t){e.helpCount+=1,e.receiveGiftNode.active=!0,e.giftBtn.active=!1,console.log("_______OKOK")},!0)}}),cc._RF.pop()},{"../../Utils/Utils":"Utils","./Enemy":"Enemy","./HexCell":"HexCell","./Role":"Role","./Tower":"Tower"}],HexCell:[function(t,e,i){"use strict";cc._RF.push(e,"9f2d9wJS0FLXJ2cTn40JI4b","HexCell"),cc.Class({extends:cc.Component,properties:{help_end:{default:null,type:cc.Node},help_start:{default:null,type:cc.Node},line_end:{default:null,type:cc.Node},line_start:{default:null,type:cc.Node},_axialCoordinate:{default:cc.v2(0,0),visible:!1},axialCoordinate:{get:function(){return this._axialCoordinate},set:function(t){this._axialCoordinate=cc.v2(t.x,t.y),this.onUpdateAxialCoordinate()}},iceNode:{default:null,type:cc.Node},isIce:{get:function(){return this.iceNode.active}},leftTower:{default:null,type:cc.Node},rightTower:{default:null,type:cc.Node},bottomTower:{default:null,type:cc.Node},topTower:{default:null,type:cc.Node},hasTower:{get:function(){return this.leftTower.active||this.rightTower.active||this.bottomTower.active||this.topTower.active}},coordinateText:{default:null,type:cc.Label},left:{default:null,type:cc.Node},right:{default:null,type:cc.Node},top:{default:null,type:cc.Node},bottom:{default:null,type:cc.Node},leftActive:{get:function(){return this.left.active}},rightActive:{get:function(){return this.right.active}},topActive:{get:function(){return this.top.active}},bottomActive:{get:function(){return this.bottom.active}}},onLoad:function(){this.initHexcell()},start:function(){},scaleChild:function(t,e){this.line_end.setScale(t,e),this.line_start.setScale(t,e),this.help_end.setScale(t,e),this.help_start.setScale(t,e),this.leftTower.getComponent("Tower").setScaleXY(t,e),this.topTower.getComponent("Tower").setScaleXY(t,e),this.rightTower.getComponent("Tower").setScaleXY(t,e),this.bottomTower.getComponent("Tower").setScaleXY(t,e)},showStartLine:function(t){null!=t&&(this.line_start.active=!0,this.axialCoordinate.x==t.x?this.axialCoordinate.y>t.y?this.line_start.setRotation(90):this.line_start.setRotation(-90):this.axialCoordinate.x>t.x?this.line_start.setRotation(180):this.line_start.setRotation(0))},showEndLine:function(t){null!=t&&(this.line_end.active=!0,this.axialCoordinate.x==t.x?this.axialCoordinate.y>t.y?this.line_end.setRotation(90):this.line_end.setRotation(-90):this.axialCoordinate.x>t.x?this.line_end.setRotation(180):this.line_end.setRotation(0))},showLine:function(t,e){this.showStartLine(e),this.showEndLine(t)},hideLine:function(){this.line_start.active=!1,this.line_end.active=!1},showStartHelp:function(t){null!=t&&(this.help_start.active=!0,this.axialCoordinate.x==t.x?this.axialCoordinate.y>t.y?this.help_start.setRotation(90):this.help_start.setRotation(-90):this.axialCoordinate.x>t.x?this.help_start.setRotation(180):this.help_start.setRotation(0))},showEndHelp:function(t){null!=t&&(this.help_end.active=!0,this.axialCoordinate.x==t.x?this.axialCoordinate.y>t.y?this.help_end.setRotation(90):this.help_end.setRotation(-90):this.axialCoordinate.x>t.x?this.help_end.setRotation(180):this.help_end.setRotation(0))},showHelp:function(t,e){this.showStartHelp(e),this.showEndHelp(t)},hideHelpLine:function(){this.help_start.active=!1,this.help_end.active=!1},setIce:function(t){this.iceNode.active=!0},setLeft:function(t){this.left.active=t},setRight:function(t){this.right.active=t},setTop:function(t){this.top.active=t},setBottom:function(t){this.bottom.active=t},setLeftTower:function(t){this.leftTower.active=t},setRightTower:function(t){this.rightTower.active=t},setTopTower:function(t){this.topTower.active=t},setBottomTower:function(t){this.bottomTower.active=t},initHexcell:function(){this.reset()},onUpdateAxialCoordinate:function(){this.coordinateText.string=parseInt(this.axialCoordinate.x)+","+parseInt(this.axialCoordinate.y),this.coordinateText.node.active=isDebug},reset:function(t){this.setLeft(!1),this.setRight(!1),this.setTop(!1),this.setBottom(!1),this.setLeftTower(!1),this.setRightTower(!1),this.setTopTower(!1),this.setBottomTower(!1)}}),cc._RF.pop()},{}],LanguageData:[function(t,e,i){"use strict";cc._RF.push(e,"61de062n4dJ7ZM9/Xdumozn","LanguageData");var n=t("polyglot.min"),o=null;function a(t){return window.i18n.languages[t]}function c(t){t&&(o?o.replace(t):o=new n({phrases:t,allowMissing:!0}))}window.i18n||(window.i18n={languages:{},curLang:""}),e.exports={init:function(t){if(t!==window.i18n.curLang){var e=a(t)||{};window.i18n.curLang=t,c(e),this.inst=o}},t:function(t,e){if(o)return o.t(t,e)},inst:o,updateSceneRenderers:function(){for(var t=cc.director.getScene().children,e=[],i=0;i<t.length;++i){var n=t[i].getComponentsInChildren("LocalizedLabel");Array.prototype.push.apply(e,n)}for(var o=0;o<e.length;++o){e[o].updateLabel()}for(var a=[],c=0;c<t.length;++c){var s=t[c].getComponentsInChildren("LocalizedSprite");Array.prototype.push.apply(a,s)}for(var l=0;l<a.length;++l){a[l].updateSprite(window.i18n.curLang)}}},cc._RF.pop()},{"polyglot.min":"polyglot.min"}],LevelView:[function(t,e,i){"use strict";cc._RF.push(e,"f23f1EV0cJDq6BQzHk3MAdR","LevelView"),cc.Class({extends:cc.Component,properties:{title:{default:null,type:cc.Label},starts:{default:null,type:cc.Node},pageView:{default:null,type:cc.PageView},content:{default:null,type:cc.Node},levelItem:{default:null,type:cc.Node},levelPage:{default:null,type:cc.Node},levels:{default:{}},bid:{default:0,type:cc.Integer},mid:{default:0,type:cc.Integer},_lastOpenLid:{default:0,type:cc.Integer},lastOpenLid:{get:function(){return this._lastOpenLid},set:function(t){this._lastOpenLid=t,this.updateCurrpage()}},gameApplication:{default:null,type:Object},lastLid:{default:0,type:cc.Integer}},onLoad:function(){this.gameApplication=cc.find("GameApplication").getComponent("GameApplication")},start:function(){},init:function(n,o){if(this.title.string="",null==this.levels||Object.keys(this.levels).length<=0||this.bid!=n||this.mid!=o){this.bid=n,this.mid=o;var t="conf/level_list/level_"+n+"_"+o;this.gameApplication.getConf(t,function(t){this.levels=t,this.initContents()}.bind(this))}else this.bid=n,this.mid=o,this.initContents();var a=this;SDK().getItem(n+"_"+o,function(t){a.starts.getComponent(cc.Label).string=t.toString();var e=t+1,i=[];i.push(e),1<e&&i.push(e-1),i.forEach(function(t){var e="conf/level_detail/b_"+n+"/"+o+"/"+t;a.gameApplication.getConf(e,null)})}.bind(this))},initContents:function(){var e=this;e.hideAllItem(),this.title.string=e.levels.title,this.lastLid=0,this.bid=e.levels.bid,this.mid=e.levels.mid;var i=1;e.levels.levels.forEach(function(t){e.initLevels(t,i),i++}),this.pageView._updatePageView()},initLevels:function(o,a){var c=this;if(!(a<1||4<a)){var t=cc.instantiate(this.levelPage);t.active=!0,this.pageView.addPage(t);for(var s=t.getChildByName("content"),e=(o.total_level,function(t){var e=t.toString(),i=s.getChildByName(e);if(t>o.total_level)i.active=!1;else{var n=25*(a-1)+t;i.tag=n,c.setItem(i,0,!1,n),l=c,SDK().getItem(l.bid+"_"+l.mid+"_"+n,function(t){var e=!1;n<=l.lastLid+1||0<t?(e=!0,l.setItem(i,t,e,n)):openAllLevel&&l.setItem(i,t,!0,n),0<t&&(l.lastLid=n)},i,n)}}),i=1;i<=25;i++){var l;e(i)}}},setItem:function(t,e,i,n){cc.find("unlock",t).active=i,cc.find("lock",t).active=!i,cc.find("unlock/text",t).getComponent(cc.Label).string=n,cc.find("lock/text",t).getComponent(cc.Label).string=n,t.active=!0,i&&(this.lastOpenLid=n)},updateCurrpage:function(){var t=Math.ceil(this.lastOpenLid/30)-1;t=0<=t?t:0,this.pageView.scrollToPage(t,!1)},hideAllItem:function(){this.pageView.removeAllPages()},onBackBtnClicked:function(){this.hideAllItem(),this.gameApplication.openMainView(),this.gameApplication.soundManager.playSound("btn_click")}}),cc._RF.pop()},{}],LoadLanguage:[function(t,e,i){"use strict";cc._RF.push(e,"34293WOrRBK/o/Y7g1Pej5+","LoadLanguage"),cc.Class({extends:cc.Component,properties:{},start:function(){cc.director.loadScene("main")}}),cc._RF.pop()},{}],LoadingView:[function(t,e,i){"use strict";cc._RF.push(e,"961c4S3IrNHB4M+zHyOMk6f","LoadingView"),cc.Class({extends:cc.Component,properties:{gameApplication:{default:null,type:Object}},onLoad:function(){this.gameApplication=cc.find("GameApplication").getComponent("GameApplication")},start:function(){"undefined"!=typeof bid&&"undefined"!=typeof mid&&"undefined"!=typeof lid&&this.gameApplication.openLevelView(bid,mid)},onPlayBtnClicked:function(){cc.log("onPlayBtnClicked"),this.gameApplication.openMainView(),this.gameApplication.soundManager.playSound("btn_click")}}),cc._RF.pop()},{}],LocalizedLabel:[function(t,e,i){"use strict";cc._RF.push(e,"744dcs4DCdNprNhG0xwq6FK","LocalizedLabel");var n=t("LanguageData");cc.Class({extends:cc.Component,editor:{executeInEditMode:!0,menu:"i18n/LocalizedLabel"},properties:{dataID:{get:function(){return this._dataID},set:function(t){this._dataID!==t&&(this._dataID=t,this.updateLabel())}},_dataID:""},onLoad:function(){n.inst||n.init(),this.fetchRender()},fetchRender:function(){var t=this.getComponent(cc.Label);if(t)return this.label=t,void this.updateLabel()},updateLabel:function(){this.label?n.t(this.dataID)&&(this.label.string=n.t(this.dataID)):cc.error("Failed to update localized label, label component is invalid!")}}),cc._RF.pop()},{LanguageData:"LanguageData"}],LocalizedSprite:[function(t,e,i){"use strict";cc._RF.push(e,"f34ac2GGiVOBbG6XlfvgYP4","LocalizedSprite");var n=t("SpriteFrameSet");cc.Class({extends:cc.Component,editor:{executeInEditMode:!0,inspector:"packages://i18n/inspector/localized-sprite.js",menu:"i18n/LocalizedSprite"},properties:{spriteFrameSet:{default:[],type:n}},onLoad:function(){this.fetchRender()},fetchRender:function(){var t=this.getComponent(cc.Sprite);if(t)return this.sprite=t,void this.updateSprite(window.i18n.curLang)},getSpriteFrameByLang:function(t){for(var e=0;e<this.spriteFrameSet.length;++e)if(this.spriteFrameSet[e].language===t)return this.spriteFrameSet[e].spriteFrame},updateSprite:function(t){if(this.sprite){var e=this.getSpriteFrameByLang(t);!e&&this.spriteFrameSet[0]&&(e=this.spriteFrameSet[0].spriteFrame),this.sprite.spriteFrame=e}else cc.error("Failed to update localized sprite, sprite component is invalid!")}}),cc._RF.pop()},{SpriteFrameSet:"SpriteFrameSet"}],MainView:[function(t,e,i){"use strict";cc._RF.push(e,"5a326YqAwhD+IfA3lH1oKVk","MainView");t("vm");var o=[cc.color(248,181,81,255),cc.color(174,93,161,255),cc.color(50,177,108,255),cc.color(54,46,43,255),cc.color(0,0,0,255),cc.color(0,160,233,255)],v=cc.color(229,229,229,255);cc.Class({extends:cc.Component,properties:{title:{default:null,type:cc.Label},hearts:{default:null,type:cc.Node},starts:{default:null,type:cc.Node},coins:{default:null,type:cc.Node},content:{default:null,type:cc.Node},scrollView:{default:null,type:cc.ScrollView},stageItem:{default:null,type:cc.Node},missionSpriteAtlas:{default:null,type:cc.SpriteAtlas},missions:{default:null},gameApplication:{default:null,type:Object},missionNodes:{default:[]},curIdx:{default:0,type:cc.Integer,visible:!1},minIdx:{default:0,type:cc.Integer,visible:!1},maxIdx:{default:0,type:cc.Integer,visible:!1},uiAtlas:{default:null,type:cc.SpriteAtlas},reTime:{default:0,type:cc.Float,visible:!1},reviveBtn:{default:null,type:cc.Button},reviveTime:{default:null,type:cc.Label},reviveNum:{default:null,type:cc.Label}},onLoad:function(){this.reTime=300,SDK().getItem("reHeart",function(t){this.reviveNum.string=t}.bind(this)),this.reviveHeartCount(),this.node.width=cc.winSize.width,this.node.height=cc.winSize.height,(window.mainScirpt=this).gameApplication=cc.find("GameApplication").getComponent("GameApplication"),this.init(),this.scrollView.node.on("scroll-to-bottom",this.scorllToBottom,this),this.scrollView.node.on("scroll-to-top",this.scorllToTop,this),this.minIdx=null,this.maxIdx=null},scorllToBottom:function(t){0<this.minIdx&&this.initStage(this.minIdx-10)},scorllToTop:function(t){this.maxIdx<540&&this.initStage(this.maxIdx+10)},init:function(){null==this.missions||Object.keys(this.missions).length<=0?this.gameApplication.getMissions(function(t){this.missions=t,this.initContents()}.bind(this)):this.initContents(),SDK().getItem("all",function(t){this.starts.getComponent(cc.Label).string=t.toString()}.bind(this))},onEnable:function(){null!=this.missions&&0<Object.keys(this.missions).length&&this.initContents(),this.refreashVal()},refreashVal:function(){null!=this.starts&&(SDK().getItem("all",function(t){this.starts.getComponent(cc.Label).string=t.toString()}.bind(this)),SDK().getItem("hearts",function(t){this.hearts.getComponent(cc.Label).string=t.toString()}.bind(this)),SDK().getItem("coins",function(t){this.coins.getComponent(cc.Label).string=t.toString()}.bind(this)))},initContents:function(){this.content.active=!1,null!=window.lastPlay?(this.initStage(window.lastPlay),this.content.active=!0):SDK().getItem("curIdx",function(t){null==t&&(t=0),window.curIdx=t,this.initMissionItem(t),this.content.active=!0}.bind(this))},initMissionItem:function(t){10<=t&&this.initStage(t-10),this.initStage(t),t<540&&this.initStage(t+10),this.scheduleOnce(function(){this.menuClick(null,"goCur")}.bind(this),2)},initStage:function(t){var f=this.judgeType(t),g=this.missions[f.type],m=f.bigStage,y=this.missionNodes[m];null==y&&(y=cc.instantiate(this.stageItem)),y.parent=this.content,y.name=""+m,y.tag=f.type,SDK().getItem("lock_"+m,function(t){var e=!1;0<t&&(e=!1),0==m&&(e=!1);for(var i=0;i<10;i+=1){var n=cc.find("Bg/Stage"+i,y),o=i+m,a=this.judgeML(f,i);if(n.tag=o,a.lid>g.stars)n.active=!1;else{n.active=!0;var c,s=cc.find("Small",n).getComponent(cc.Sprite),l=cc.find("Num",s.node).getComponent(cc.Label),r=cc.find("CurPoint",s.node),d=cc.find("Lock",s.node);if(o%10==0?(l.string="",0==o&&(l.string="")):l.string=o,o==window.curIdx){r.active=!0,r.runAction(cc.repeatForever(cc.sequence(cc.moveBy(.5,cc.v2(0,20)),cc.moveBy(.5,cc.v2(0,-20)))));var u=a.mid,h=a.lid;if(null!=u&&0<u&&null!=h&&0<h){var p=[];1<h&&p.push(h-1),p.push(h),h<100&&p.push(h+1),p.forEach(function(t){var e="conf/level_detail/b_1/"+u+"/"+t;window.gameApplication.getConf(e,null)})}}else r.stopAllActions(),r.active=!1;if(o==m?(s.spriteFrame=this.uiAtlas.getSpriteFrame(f.type+"Big"),s.node.color=cc.color(255,255,255,255)):s.node.color=v,e){if(d.active=!0,n.off(cc.Node.EventType.TOUCH_END),o%10==0)d.active=!1,(c={}).mid=a.mid,c.lid=a.lid,c.bigStage=f.bigStage,c.idx=i,this.initStageClick(c,n,e)}else d.active=!1,(c={}).mid=a.mid,c.lid=a.lid,c.bigStage=f.bigStage,c.idx=i,o<=window.curIdx&&this.initStageClick(c,n,e),this.checkstagePass(a,o,s,f)}}y.active=!0,this.missionNodes[m]=y,(m>this.maxIdx||null==this.maxIdx)&&(this.maxIdx=m),(m<this.minIdx||null==this.minIdx)&&(this.minIdx=m,y.setSiblingIndex(0))}.bind(this))},checkstagePass:function(t,e,i,n){SDK().getItem("1_"+t.mid+"_"+t.lid,function(t){0<t&&e%10!=0&&(i.node.color=o[n.type])}.bind(this))},initStageClick:function(i,n,o){var a=cc.find("GoGame",this.node);n.off(cc.Node.EventType.TOUCH_END),n.on(cc.Node.EventType.TOUCH_END,function(t){null!=a&&(a.active=!0),this.gameApplication.soundManager.playSound("btn_click");var e=t.target.tag;e%10==0&&0!=e&&o?this.gameApplication.showSharaView(function(t){if(t){var e={};e["lock_"+i.bigStage]=1,SDK().setItem(e,function(){this.initStage(i.bigStage)}.bind(this))}null!=a&&(a.active=!1)}.bind(this)):SDK().getItem("hearts",function(e){0<e?(e-=1,SDK().setItem({hearts:e}),null!=this.hearts&&(this.hearts.getComponent(cc.Label).string=e),window.gameApplication.flyReward(1,"heartSprite",n,this.hearts,function(){this.goGame(i,n,o)}.bind(this))):window.gameApplication.showHeartView(function(t){t?(e=4,null!=this.hearts&&(this.hearts.getComponent(cc.Label).string=e),SDK().setItem({hearts:e}),window.gameApplication.flyReward(1,"heartSprite",n,this.hearts,function(){this.goGame(i,n,o)}.bind(this))):null!=a&&(a.active=!1)}.bind(this),!1)}.bind(this))},this)},goGame:function(t,e,i){window.bid=1,window.mid=t.mid,window.lid=t.lid,this.gameApplication.openGameView()},judgeType:function(t){var e=0,i=60,n=!1;for(300<=t&&(t-=300,n=!0,i=50);i<=t;)t-=i,e+=1;t=Math.floor(t/10);var o={};return o.type=t,o.count=e,o.bigStage=10*t+e*i,n&&(o.bigStage=o.bigStage+300),o},judgeML:function(t,e){var i={};i.mid=t.type+1;var n=0;return 300<=t.bigStage&&(n=5),i.lid=1+e+10*(n+t.count),i},hideAllItem:function(){0<this.content.childrenCount&&this.content.children.forEach(function(t){t.active=!1,t.destroy()})},menuClick:function(t,e){if(window.gameApplication.soundManager.playSound("btn_click"),"addHeart"==e)window.gameApplication.showHeartView(function(t){t&&SDK().getItem("hearts",function(t){t+=5,window.gameApplication.flyReward(5,"heartSprite",window.mainScirpt.hearts,null),null!=this.hearts&&(this.hearts.getComponent(cc.Label).string=t),SDK().setItem({hearts:t})}.bind(this),!1)}.bind(this),!1);else if("addCoin"==e)window.gameApplication.showCoinView(function(t){t&&SDK().getItem("coins",function(t){t+=100,window.gameApplication.flyReward(10,"coin",window.mainScirpt.coins,null),null!=this.coins&&(this.coins.getComponent(cc.Label).string=t),SDK().setItem({coins:t})}.bind(this),!1)}.bind(this),!1);else if("goCur"==e){var i=this.judgeType(window.curIdx),n=i.bigStage,o=this.missionNodes[n];if(null==o)return;var a=995;a=a*(5-(window.curIdx-i.bigStage))/10;var c=this.scrollView.getMaxScrollOffset();this.scrollView.scrollToOffset(cc.p(0,c.y-o.y+a),.5)}else if("reHeart"==e){if(0==parseInt(this.reviveNum.string))return;this.reviveNum.string=0,SDK().getItem("reHeart",function(e){SDK().setItem({reHeart:0},function(){SDK().getItem("hearts",function(t){t=parseInt(t),t+=e,Math.abs(this.node.y-0)<10&&window.gameApplication.flyReward(e,"heartSprite",window.mainScirpt.hearts,this.reviveBtn.node,function(){null!=window.mainScirpt.hearts&&(window.mainScirpt.hearts.getComponent(cc.Label).string=t.toString())}.bind(this)),SDK().setItem({hearts:t},null)}.bind(this))}.bind(this))}.bind(this))}},reviveHeartCount:function(){if(this.reTime<=0)this.reTime=300,SDK().getItem("reHeart",function(t){t+=1,this.reviveNum.string=t,SDK().setItem({reHeart:t})}.bind(this));else{var t=this.reTime,e=t/60<10?"0"+Math.floor(t/60):""+Math.floor(t/60),i=t%60<10?"0"+Math.floor(t%60):""+Math.floor(t%60);t<=0&&(i=e="00"),this.reviveTime.string=e+":"+i}this.scheduleOnce(function(){this.reviveHeartCount()}.bind(this),1)},update:function(t){this.reTime=this.reTime-t}}),cc._RF.pop()},{vm:7}],NormalAnimation:[function(t,e,i){"use strict";cc._RF.push(e,"43480EzecBHBogcLHmzK8wB","NormalAnimation"),cc.Class({extends:cc.Component,properties:{loop:!0,isplay:!0,sprite:{default:null,type:cc.Sprite},sprites:{default:[],type:[cc.SpriteFrame]},fps:{default:5,type:cc.Integer},index:{default:0,type:cc.Integer,visible:!1},delta:{default:0,type:cc.Integer,visible:!1},rotationForever:!1},onLoad:function(){this.rotationForever&&this.rotation()},rotation:function(){var t=cc.repeatForever(cc.rotateBy(.3,90));this.rotationSeq=this.node.runAction(t)},play:function(){this.scheduleOnce(function(){null!=this.rotationSeq&&this.node.stopAction(this.rotationSeq)},.1),this.index=0,this.delta=0,this.isplay=!0,this.node.opacity=255,this.sprite.node.active=!0},update:function(t){if(this.isplay&&(this.delta+=t,0<this.fps&&0<this.sprites.length)){var e=1/this.fps;e<this.delta&&(this.delta=0<e?this.delta-e:0,this.sprite.spriteFrame=this.sprites[this.index],this.index=this.index+1>=this.sprites.length?0:this.index+1,this.index<=0&&0==this.loop&&(this.rotation(),this.isplay=!1,this.sprite.spriteFrame=this.sprites[0],this.node.opacity=0))}}}),cc._RF.pop()},{}],Player:[function(t,e,i){"use strict";cc._RF.push(e,"e32198K/PFAYI3D//JNhj6H","Player"),cc.Class({extends:cc.Component,properties:{age:{default:0,type:cc.Integer},avatar:{default:""},group_id:{default:0,type:cc.Integer},is_rebot:{default:0,type:cc.Integer},pname:{default:""},score:{default:0,type:cc.Integer},sex:{default:0,type:cc.Integer},user_id:{default:0,type:cc.Integer}},setUserInfo:function(t){this.age=t.age,this.avatar=t.avatar,this.group_id=t.group_id,this.is_rebot=t.is_rebot,this.pname=this.substrName(t.name,6),this.score=t.score,this.sex=t.sex,this.user_id=t.user_id},substrName:function(t,e){if(t.replace(/[\u4e00-\u9fa5]/g,"**").length<=e)return t;for(var i=0,n="",o=0;o<t.length&&(/[\u4e00-\u9fa5]/.test(t[o])?i+=2:i+=1,!(e<i));o++)n+=t[o];return n+" ..."}}),cc._RF.pop()},{}],RankView:[function(t,e,i){"use strict";cc._RF.push(e,"04fa0UaF89AfJ9fdL6pdcUD","RankView"),cc.Class({extends:cc.Component,properties:{worldBtn:{default:null,type:cc.Node},friendBtn:{default:null,type:cc.Node},worldList:{default:null,type:cc.Node},friendList:{default:null,type:cc.Node},worldContent:{default:null,type:cc.Node},friendContent:{default:null,type:cc.Node},headSpriteList:{default:{},visible:!1},worldPlayer:{default:[],visible:!1},friendPlayer:{default:[],visible:!1},worldUIPlayer:{default:[],visible:!1},friendUIPlayer:{default:[],visible:!1},prefab_player:{default:null,type:cc.Prefab}},onEnable:function(){this.LoadRank()},menuClick:function(t,e){window.gameApplication.soundManager.playSound("btn_click"),"openRank"==e?window.gameApplication.openRankView(!0):"closeRank"==e&&window.gameApplication.openRankView(!1)},LoadRank:function(){SDK().getFriendsRank(2,20,0,function(t){this.GetFriendRank(t)}.bind(this))},GetFriendRank:function(t){this.friendPlayer=t;for(var e=0;e<this.friendPlayer.length;e+=1){var i,n,o,a,c,s;e>=this.friendUIPlayer.length?(n=(i=cc.instantiate(this.prefab_player)).getChildByName("Head").getComponent(cc.Sprite),o=i.getChildByName("Name").getComponent(cc.Label),a=i.getChildByName("No").getComponent(cc.Label),c=i.getChildByName("Score").getChildByName("Num").getComponent(cc.Label),s=i.getChildByName("Play"),this.friendUIPlayer[e]={},this.friendUIPlayer[e].playerBar=i,this.friendUIPlayer[e].Head=n,this.friendUIPlayer[e].Name=o,this.friendUIPlayer[e].No=a,this.friendUIPlayer[e].Score=c,this.friendUIPlayer[e].playBtn=s):(i=this.friendUIPlayer[e].playerBar,n=this.friendUIPlayer[e].Head,o=this.friendUIPlayer[e].Name,a=this.friendUIPlayer[e].No,c=this.friendUIPlayer[e].Score,s=this.friendUIPlayer[e].playBtn),i.parent=this.friendContent,i.active=!1,this.LoadSprite(this.friendPlayer[e].headUrl,n,this.headSpriteList[this.friendPlayer[e].id]),o.string=this.friendPlayer[e].name,o.node.active=!0,a.string=this.friendPlayer[e].No,a.node.active=!0,c.string=this.friendPlayer[e].score,c.node.active=!0,this.friendPlayer[e].id==SDK().getSelfInfo().id?s.active=!1:s.active=!0,s.tag=this.friendPlayer[e].id,s.off(cc.Node.EventType.TOUCH_END),s.on(cc.Node.EventType.TOUCH_END,function(t){SDK().playWith(t.target.tag,null,function(t){t&&SDK().getItem("coins",function(t){t+=20,window.gameApplication.flyReward(2,"coin",window.mainScirpt.coins,function(){this.node.active&&window.gameApplication.openGameView(!0),null!=window.mainScirpt.coins&&(window.mainScirpt.coins.getComponent(cc.Label).string=t)}.bind(this)),SDK().setItem({coins:t})}.bind(this),!1)}.bind(this))}.bind(this),this)}if(this.friendPlayer.length<this.friendUIPlayer.length)for(e=this.friendPlayer.length;e<this.friendUIPlayer.length;e+=1)this.friendUIPlayer[e].playerBar.active=!1},GetWorldRank:function(t){this.worldPlayer=t;for(var e=!1,i=0;i<this.worldPlayer.length;i+=1)this.LoadRankData(i,this.worldPlayer[i])&&(e=!0);var n=this.worldPlayer.length;if(e||(n+=1,SDK().getRankScore(2,function(t){this.LoadRankData(n-1,t)}.bind(this))),n<this.worldUIPlayer.length)for(i=this.worldPlayer.length;i<this.worldUIPlayer.length;i+=1)this.worldUIPlayer[i].playerBar.active=!1},LoadRankData:function(t,e){var i,n,o,a,c,s=!1;t>=this.worldUIPlayer.length?(n=(i=cc.instantiate(this.prefab_player)).getComponent(cc.Sprite),o=i.getChildByName("No").getComponent(cc.Label),a=i.getChildByName("Score").getChildByName("Num").getComponent(cc.Label),c=i.getChildByName("HeadMask").getChildByName("Head").getComponent(cc.Sprite),i.getChildByName("Name").active=!1,this.worldUIPlayer[t]={},this.worldUIPlayer[t].playerBar=i,this.worldUIPlayer[t].mainBg=n,this.worldUIPlayer[t].No=o,this.worldUIPlayer[t].Score=a,this.worldUIPlayer[t].Head=c):(i=this.worldUIPlayer[t].playerBar,n=this.worldUIPlayer[t].mainBg,o=this.worldUIPlayer[t].No,a=this.worldUIPlayer[t].Score,c=this.worldUIPlayer[t].Head);return i.color=t%2==0?cc.color(248,181,81,255):cc.color(254,152,0,255),o.node.active=!0,a.node.active=!0,i.name=e.id,i.parent=this.worldContent,e.id==SDK().getSelfInfo().id&&(s=!0),i.getChildByName("Play").active=!1,o.string=e.no,a.string=e.score,this.LoadSprite(e.headUrl,c,this.headSpriteList[e.id]),s},LoadSprite:function(t,i,n){null==n?cc.loader.load(t,function(t,e){n=new cc.SpriteFrame(e),i.spriteFrame=n,i.node.parent.active=!0}):(i.spriteFrame=n,i.node.parent.active=!0)}}),cc._RF.pop()},{}],Role:[function(t,e,i){"use strict";cc._RF.push(e,"01249Rk7stLqpgK0u1Ta5FD","Role");t("./HexCell");cc.Class({extends:cc.Component,properties:{bg:{default:null,type:cc.Node},die:{default:null,type:cc.Node},arrowNode:{default:null,type:cc.Node},leftNode:{default:null,type:cc.Node},rightNode:{default:null,type:cc.Node},bottomNode:{default:null,type:cc.Node},topNode:{default:null,type:cc.Node},_axialCoordinate:{default:cc.v2(0,0),visible:!1},axialCoordinate:{get:function(){return this._axialCoordinate},set:function(t){this._axialCoordinate=cc.v2(t.x,t.y)}},gameView:{default:null},darkNode:{default:null,type:cc.Node}},onLoad:function(){},start:function(){},init:function(){this.bg.active=!0,this.die.active=!1},onCollisionEnter:function(t,e){null!=this.gameView&&null!=t.node&&0<t.node.opacity&&t.node.active&&this.gameView.collisionCallback()},setDark:function(t){this.darkNode.active=t},setArrow:function(t,e,i,n){this.topNode.active=t,this.bottomNode.active=i,this.leftNode.active=e,this.rightNode.active=n,this.arrowNode.active=!0},hideArrow:function(){this.arrowNode.active=!1},playDie:function(t){var e=this;this.bg.active=!0,this.die.active=!1,this.die.setContentSize(cc.size(100,100)),this.blinking(this.bg,function(){e.bg.active=!1,e.die.active=!0,e.blinking(e.die,function(){e.die.setContentSize(cc.size(180,180)),e.blinking(e.die,function(){e.scheduleOnce(function(){e.die.runAction(cc.fadeOut(.2))},.1)})})})},blinking:function(t,e){var i=cc.delayTime(.12),n=cc.fadeOut(.01),o=cc.delayTime(.1),a=cc.fadeIn(.01),c=cc.callFunc(function(){e&&e()}),s=cc.repeat(cc.sequence(i,n,o,a),2);t.stopAllActions(),t.runAction(cc.sequence(s,c))},moveTo:function(){}}),cc._RF.pop()},{"./HexCell":"HexCell"}],RotationForever:[function(t,e,i){"use strict";cc._RF.push(e,"fb6faggz8ZGIIj857YwdZTb","RotationForever"),cc.Class({extends:cc.Component,properties:{},onLoad:function(){var t=cc.repeatForever(cc.rotateBy(.3,90));this.node.runAction(t)}}),cc._RF.pop()},{}],SDKUtils:[function(t,e,i){"use strict";cc._RF.push(e,"d14deOZzBVA6bqNWaGWZ5SG","SDKUtils");var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o={};Math.sqrt(3);o.prefixInteger=function(t,e){return(Array(e).join("0")+t).slice(-e)},o.offsetToAxial=function(t){return t.x=t.x-Math.floor(t.y/2),t},o.axialToScreen=function(t,e){var i=e*t.y+.5*e-t.y*lineWidth,n=e*t.x+.5*e-t.x*lineWidth;return cc.v2(n,i)},o.screenToAxial=function(t,e){var i=cc.v2(0,0),n=Math.abs(Math.round((t.y-.5*e)/e)),o=Math.abs(Math.round((t.x-.5*e)/e));return i.x=Math.floor((t.x+o*lineWidth)/e),i.y=Math.floor((t.y+n*lineWidth)/e),i},o.calculateCubicZ=function(t){return-t.x-t.y},o.axialToOffset=function(t){return t},o.getNeighbors=function(t){var e=cc.v2(0,0),i=[];return e.x=t.x+1,e.y=t.y,i.push(cc.v2(e.x,e.y)),e.x=t.x-1,e.y=t.y,i.push(cc.v2(e.x,e.y)),e.x=t.x,e.y=t.y-1,i.push(cc.v2(e.x,e.y)),e.x=t.x,e.y=t.y+1,i.push(cc.v2(e.x,e.y)),i},o.getNeighborsOBJ=function(t){var e=cc.v2(0,0),i={};return e.x=t.x+1,e.y=t.y,i.r=cc.v2(e.x,e.y),e.x=t.x-1,e.y=t.y,i.l=cc.v2(e.x,e.y),e.x=t.x,e.y=t.y-1,i.b=cc.v2(e.x,e.y),e.x=t.x,e.y=t.y+1,i.t=cc.v2(e.x,e.y),i},o.isNeighbors=function(t,e){for(var i=this.getNeighbors(t),n=!1,o=0;o<i.length;o++)i[o].equals(e)&&(n=!0);return n},o.cloneObj=function(t){var e=t&&t.constructor===Array?[]:{};for(var i in t)if(t.hasOwnProperty(i)){if(!t[i]){e[i]=t[i];continue}e[i]="object"===n(t[i])?o.cloneObj(t[i]):t[i]}return e},o.GetRandomNum=function(t,e){switch(arguments.length){case 1:return parseInt(Math.random()*t+1,10);case 2:return parseInt(Math.random()*(e-t+1)+t,10);default:return 0}},o.inArray=function(t,e){for(var i=e.length;i--;)if(parseInt(e[i])===parseInt(t))return!0;return!1},e.exports=o,cc._RF.pop()},{}],SettingView:[function(t,e,i){"use strict";cc._RF.push(e,"64507eJPGxKyIteLWqvXb01","SettingView");t("util");cc.Class({extends:cc.Component,properties:{selectView:{default:null,type:cc.ScrollView},curLang:{default:null,type:cc.Label},musicSprite:{default:null,type:cc.Sprite},selectContent:{default:null,type:cc.Node},selectItem:{default:null,type:cc.Node},musicOn:{default:null,type:cc.SpriteFrame},musicOff:{default:null,type:cc.SpriteFrame}},onLoad:function(){this.initToggle()},initToggle:function(){SDK().getItem("curLang",function(t){null==t&&(t=0);for(var e=0;e<window.langArr.length;e+=1){var i=cc.instantiate(this.selectItem);i.tag=e,i.parent=this.selectContent,i.toggle=i.getComponent(cc.Toggle),e!=t?i.toggle.isChecked=!1:(i.toggle.isChecked=!0,this.curLang.string=window.langArr[e]),cc.find("Name",i).getComponent(cc.Label).string=window.langArr[e],i.on("toggle",this.languageSelect,this),i.active=!0}}.bind(this))},languageSelect:function(t){var e=t.target;e.toggle.isChecked&&(this.curLang.string=window.langArr[e.tag],SDK().setItem({curLang:e.tag},function(){cc.director.loadScene("loadLanguage")}.bind(this)))},menuClick:function(t,e){if("music"==e)window.gameApplication.soundManager.isOpen?(this.musicSprite.spriteFrame=this.musicOff,window.gameApplication.soundManager.setIsOpen(!1)):(this.musicSprite.spriteFrame=this.musicOn,window.gameApplication.soundManager.setIsOpen(!0));else if("select"==e){Math.abs(this.selectView.node.height-400)<.01?window.gameApplication.lerpACtion(400,-400,.5,function(t){this.selectView.node.height=t.x,Math.abs(this.selectView.node.height-0)<1&&(this.selectView.node.height=0)}.bind(this)):Math.abs(this.selectView.node.height-0)<.01&&window.gameApplication.lerpACtion(0,400,.5,function(t){this.selectView.node.height=t.x,Math.abs(this.selectView.node.height-400)<1&&(this.selectView.node.height=400)}.bind(this))}},start:function(){}}),cc._RF.pop()},{util:6}],SoundManager:[function(t,e,i){"use strict";cc._RF.push(e,"2e203tup99JJ5nSDvFuy7AM","SoundManager"),cc.Class({extends:cc.Component,properties:{audioSource:{type:cc.AudioSource,default:null},btn_click:{url:cc.AudioClip,default:null},gamewin:{url:cc.AudioClip,default:null},done:{url:cc.AudioClip,default:null},error:{url:cc.AudioClip,default:null},clock:{url:cc.AudioClip,default:null},uplock:{url:cc.AudioClip,default:null},getCoin:{url:cc.AudioClip,default:null},isOpen:!0,isVoiceOpen:!0},playSound:function(t){if(this.isOpen)switch(t){case"btn_click":cc.audioEngine.play(this.btn_click,!1,1);break;case"done":cc.audioEngine.play(this.done,!1,1);break;case"error":cc.audioEngine.play(this.error,!1,1);break;case"clock":cc.audioEngine.play(this.clock,!1,1);break;case"gamewin":cc.audioEngine.play(this.gamewin,!1,1);break;case"uplock":cc.audioEngine.play(this.uplock,!1,1);break;case"getCoin":cc.audioEngine.play(this.getCoin,!1,1)}},playBg:function(){this.isOpen&&this.audioSource.play()},setVoiceIsOpen:function(t){if(this.isVoiceOpen=t)try{null!=str&&HiboGameJs.enableMic(0)}catch(t){}else try{null!=str&&HiboGameJs.enableMic(1)}catch(t){}},setIsOpen:function(t){if(this.isOpen=t,this.isOpen){this.playBg();try{null!=str&&HiboGameJs.mute(0)}catch(t){}}else{this.audioSource.pause();try{null!=str&&HiboGameJs.mute(1)}catch(t){}}}}),cc._RF.pop()},{}],SpriteFrameSet:[function(t,e,i){"use strict";cc._RF.push(e,"97019Q80jpE2Yfz4zbuCZBq","SpriteFrameSet");var n=cc.Class({name:"SpriteFrameSet",properties:{language:"",spriteFrame:cc.SpriteFrame}});e.exports=n,cc._RF.pop()},{}],TimeGift:[function(t,e,i){"use strict";cc._RF.push(e,"6f2aaGixZ5Fyol6rIab6HGA","TimeGift");var d=[3,50],u=[2,100];cc.Class({extends:cc.Component,properties:{giftView:{default:null,type:cc.Node},giftBtn:{default:null,type:cc.Node},giftMask:{default:null,type:cc.Node},giftTip:{default:null,type:cc.Node},giftTimeText:{default:null,type:cc.Label},giftTime:{default:0,visible:!1},heartsNum:{default:null,type:cc.Label},coinsNum:{default:null,type:cc.Label}},onLoad:function(){window.timeGiftScript=this,SDK().getItem("giftTime",function(t){t=parseInt(t),this.giftTime=t}.bind(this)),this.node.on(cc.Node.EventType.TOUCH_END,function(t){this.openBtn()},this)},openBtn:function(){window.gameApplication.soundManager.playSound("btn_click"),this.giftTip.active&&this.showTimeGiftView(1)},start:function(){this.checkTime(!0)},showTimeGiftView:function(e){console.log(e);var i=0,n=0;1==e?(i=u[0],n=u[1]):2==e&&(i=d[0],n=d[1]),this.heartsNum.string="+"+i,this.coinsNum.string="+"+n,window.gameApplication.openGiftView(!0);var t=this.giftView.getChildByName("Bg"),o=t.getChildByName("Later"),a=t.getChildByName("ReceiveView"),c=a.getChildByName("Light0"),s=a.getChildByName("Light1"),l=a.getChildByName("Receive"),r=a.getChildByName("Double");c.runAction(cc.repeatForever(cc.repeatForever(cc.rotateBy(1,120)))),s.runAction(cc.repeatForever(cc.rotateBy(1,120))),l.off(cc.Node.EventType.TOUCH_END),l.on(cc.Node.EventType.TOUCH_END,function(t){window.gameApplication.soundManager.playSound("btn_click"),1==e&&this.resetTime(),SDK().getItem("hearts",function(t){t=parseInt(t),t+=i,window.gameApplication.flyReward(i,"heartSprite",window.mainScirpt.hearts,null),SDK().setItem({hearts:t},null),null!=window.mainScirpt.hearts&&(window.mainScirpt.hearts.getComponent(cc.Label).string=t.toString())}.bind(this)),SDK().getItem("coins",function(t){t=parseInt(t),t+=n,window.gameApplication.flyReward(.1*n,"coin",window.mainScirpt.coins,null),SDK().setItem({coins:t},function(){window.mainScirpt.refreashVal()}),null!=window.mainScirpt.coins&&(window.mainScirpt.coins.getComponent(cc.Label).string=t.toString())}.bind(this)),window.gameApplication.openGiftView(!1)},this),r.off(cc.Node.EventType.TOUCH_END),r.on(cc.Node.EventType.TOUCH_END,function(t){window.gameApplication.soundManager.playSound("btn_click"),window.gameApplication.onVideoBtnClick(function(t){t&&(1==e&&this.resetTime(),SDK().getItem("hearts",function(t){t=parseInt(t),t+=3*i,window.gameApplication.flyReward(3*i,"heartSprite",window.mainScirpt.hearts,null),SDK().setItem({hearts:t},null),null!=window.mainScirpt.hearts&&(window.mainScirpt.hearts.getComponent(cc.Label).string=t.toString())}.bind(this)),SDK().getItem("coins",function(t){t=parseInt(t),t+=3*n,window.gameApplication.flyReward(.3*n,"coin",window.mainScirpt.coins,null),SDK().setItem({coins:t},function(){window.mainScirpt.refreashVal()}),null!=window.mainScirpt.coins&&(window.mainScirpt.coins.getComponent(cc.Label).string=t.toString())}.bind(this)),window.gameApplication.openGiftView(!1))}.bind(this))},this),o.off(cc.Node.EventType.TOUCH_END),o.on(cc.Node.EventType.TOUCH_END,function(t){window.gameApplication.soundManager.playSound("btn_click"),window.gameApplication.openGiftView(!1)},this)},resetTime:function(){var t=Date.parse(new Date);t/=1e3,this.giftTime=t,SDK().setItem({giftTime:this.giftTime},null)},checkTime:function(t){var e=Date.parse(new Date);if(10800<(e/=1e3)-this.giftTime)(!this.giftTip.active&&this.giftMask.active||t)&&(this.giftTip.active=!0,this.giftMask.active=!1,this.giftTimeText.node.active=!0,this.giftBtn.stopAllActions(),window.gameApplication.shake(this.giftBtn.getChildByName("Gift")));else{(this.giftTip.active&&!this.giftMask.active||t)&&(this.giftTip.active=!1,this.giftTip.stopAllActions(),this.giftMask.active=!0,this.giftTimeText.node.active=!0,this.giftBtn.getChildByName("Gift").stopAllActions(),this.giftBtn.getChildByName("Gift").rotation=0);var i=e-this.giftTime,n=(i=10800-i)/60,o=0;if(60<=n)o=Math.floor(n/60),n=n%60*60;var a=n/60<10?"0"+Math.floor(n/60):""+Math.floor(n/60),c=i%60<10?"0"+Math.floor(i%60):""+Math.floor(i%60);i<=0&&(c=a="00"),this.giftTimeText.string=0<o?o+":"+a+":"+c:a+":"+c}this.scheduleOnce(function(){this.checkTime(!1)}.bind(this),1)}}),cc._RF.pop()},{}],Tower:[function(t,e,i){"use strict";cc._RF.push(e,"fffd1g1zLBJ9Zn7NHAXbn3T","Tower");t("./HexCell");cc.Class({extends:cc.Component,properties:{bubble:{default:null,type:cc.Node},bubbleAxialCoordinate:{default:cc.v2(0,0),visible:!1},_axialCoordinate:{default:cc.v2(0,0),visible:!1},axialCoordinate:{get:function(){return this._axialCoordinate},set:function(t){this._axialCoordinate=cc.v2(t.x,t.y),this.bubbleAxialCoordinate=cc.v2(t.x,t.y)}},isShooting:!1,direction:{default:-1,type:cc.Integer,visible:!1},f:{default:0,type:cc.Integer,visible:!1},s:{default:0,type:cc.Integer,visible:!1},delay:{default:0,type:cc.Integer,visible:!1},size:{default:cc.size(0,0),type:cc.Size,visible:!1},scaleX:{default:1,type:cc.Integer,visible:!1},scaleY:{default:1,type:cc.Integer,visible:!1}},init:function(t){this.direction=t.direction,this.f=t.f,this.s=t.s,this.delay=t.delay,this.isShooting=!1,this.bubble.active=!1,this.node.setContentSize(this.size),this.bubble.setScale(this.scaleX,this.scaleY)},setScaleXY:function(t,e){this.size=cc.size(34*t,51*e),this.scaleX=t,this.scaleY=e},onLoad:function(){},start:function(){}}),cc._RF.pop()},{"./HexCell":"HexCell"}],Utils:[function(t,e,i){"use strict";cc._RF.push(e,"3e427LrtQhKv7l/kjbf8v9+","Utils");var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o={},d=Math.sqrt(3);o.offsetToAxial=function(t){return t.x=t.x-Math.floor(t.y/2),t},o.axialToScreen=function(t,e){var i=e*t.y+.5*e-t.y*lineWidth,n=e*t.x+.5*e-t.x*lineWidth;return cc.v2(n,i)},o.screenToAxial=function(t,e){var i=cc.v2(0,0);i.y=t.x/(1.5*e),i.x=(t.y-t.x/d)/(d*e);var n=this.calculateCubicZ(i),o=Math.round(i.x),a=Math.round(i.y),c=Math.round(n);if(o+a+c==0)t.x=o,t.y=a;else{var s=Math.abs(i.x-o),l=Math.abs(i.y-a),r=Math.abs(n-c);l<s&&r<s?(t.x=-a-c,t.y=a):s<l&&r<l?(t.x=o,t.y=-o-c):s<r&&l<r&&(t.x=o,t.y=a)}return t},o.calculateCubicZ=function(t){return-t.x-t.y},o.axialToOffset=function(t){return t.x=t.x+Math.floor(t.y/2),t},o.getNeighbors=function(t){var e=cc.v2(0,0),i=[];return e.x=t.x+1,e.y=t.y,i.push(cc.v2(e.x,e.y)),e.x=t.x-1,e.y=t.y,i.push(cc.v2(e.x,e.y)),e.x=t.x,e.y=t.y-1,i.push(cc.v2(e.x,e.y)),e.x=t.x,e.y=t.y+1,i.push(cc.v2(e.x,e.y)),i},o.getNeighborsOBJ=function(t){var e=cc.v2(0,0),i={};return e.x=t.x+1,e.y=t.y,i.r=cc.v2(e.x,e.y),e.x=t.x-1,e.y=t.y,i.l=cc.v2(e.x,e.y),e.x=t.x,e.y=t.y-1,i.b=cc.v2(e.x,e.y),e.x=t.x,e.y=t.y+1,i.t=cc.v2(e.x,e.y),i},o.isNeighbors=function(t,e){for(var i=this.getNeighbors(t),n=!1,o=0;o<i.length;o++)i[o].equals(e)&&(n=!0);return n},o.cloneObj=function(t){var e=t&&t.constructor===Array?[]:{};for(var i in t)if(t.hasOwnProperty(i)){if(!t[i]){e[i]=t[i];continue}e[i]="object"===n(t[i])?o.cloneObj(t[i]):t[i]}return e},o.GetRandomNum=function(t,e){switch(arguments.length){case 1:return parseInt(Math.random()*t+1,10);case 2:return parseInt(Math.random()*(e-t+1)+t,10);default:return 0}},o.inArray=function(t,e){for(var i=e.length;i--;)if(parseInt(e[i])===parseInt(t))return!0;return!1},e.exports=o,cc._RF.pop()},{}],ZoominForever1:[function(t,e,i){"use strict";cc._RF.push(e,"2f1b5ntEa5NbYY+SYDZzHax","ZoominForever1"),cc.Class({extends:cc.Component,properties:{},onLoad:function(){var t=cc.repeatForever(cc.sequence(cc.scaleTo(.48,1.25,1.25),cc.delayTime(.38),cc.scaleTo(.78,1,1),cc.delayTime(.68)));this.node.runAction(t)}}),cc._RF.pop()},{}],ZoominForever:[function(t,e,i){"use strict";cc._RF.push(e,"0bfed705u9G85RWvZFfoZtO","ZoominForever"),cc.Class({extends:cc.Component,properties:{},onLoad:function(){var t=cc.repeatForever(cc.sequence(cc.scaleTo(.88,1.1,1.1),cc.scaleTo(.88,.9,.9)));this.node.runAction(t)}}),cc._RF.pop()},{}],en:[function(t,e,i){"use strict";var n;function o(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}cc._RF.push(e,"8c6d6rX4b5LH43PcfbdRlsr","en"),window.i18n||(window.i18n={}),window.i18n.languages||(window.i18n.languages={}),window.i18n.languages.en={label_text:(n={helpTip:"Slide the screen to direct the direction \n and find the exit of the maze!",watchAdTip:"Watch video AD to unlock \nthis level in advance!",watchAdBtn:"Unlock",invBtn:"PK VS Friends",watchAdHelip:"You can get 5 more help\n after watching the AD!"},o(n,"watchAdBtn","WATCH VIDEO"),o(n,"shareAdHelp","Get more tips!"),o(n,"shareAdHelpText","Invite friend to get 3 tips!"),o(n,"shareAdBtn","INVITE"),o(n,"later","LATER"),o(n,"replay","Okay"),o(n,"timeisup","watch a video for more time!"),o(n,"timeisup_share","share to friends \nfor more time now!"),o(n,"timeisup_end","Out of time!"),o(n,"noads","Video is missing! \nTry again later."),o(n,"inv_again","This player can't receive messages right now.close this dialog to refresh this list."),o(n,"queding","OKAY"),o(n,"receiveGift","Wow! you got 1 help!"),o(n,"getCoins","Get more coins."),o(n,"getCoinText","Watch a video to get 100 coins?"),o(n,"getHearts","Get more hearts."),o(n,"getHeartText","Pick a friend or watch a ads to get 5 hearts."),o(n,"giftTitel","Gifts"),o(n,"settingTitel","Setting"),o(n,"langTitel","Language:"),o(n,"musicTitel","music:"),o(n,"moveTitel","Get more stepsï¼"),o(n,"unlockTitel","Unlock Stage"),o(n,"unlockText","Invite friend to unlock the rest stage"),o(n,"failTitel","fail"),o(n,"videoText","Video is missing.Please try again."),o(n,"shareText","PleaseÂ shareÂ toÂ anotherÂ groupÂ orÂ friend."),n)},cc._RF.pop()},{}],es:[function(t,e,i){"use strict";var n;function o(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}cc._RF.push(e,"a5f8aTtyHxGh6vbhg7qoj0q","es"),window.i18n||(window.i18n={}),window.i18n.languages||(window.i18n.languages={}),window.i18n.languages.es={label_text:(n={helpTip:"Deslice la pantalla para guiar la direcciÃ³n y encontrar la salida del laberinto.",watchAdTip:"Â¡Mira el anuncio de video \n para desbloquear este nivel por adelantado!",watchAdBtn:"Desbloquear nivel",invBtn:"Invita amigos",watchAdHelip:"Mire el video \n obtenga 5 ayuda!"},o(n,"watchAdBtn","InvitaciÃ³n"),o(n,"shareAdHelp","Obtenga mÃ¡s consejos!"),o(n,"shareAdHelpText","Â¡Invita a tus amigos a obtener 3 consejos!"),o(n,"shareAdBtn","Compartir"),o(n,"later","Cerrar"),o(n,"replay","EstÃ¡ bien"),o(n,"timeisup","Â¡Mira el video para tener mÃ¡s tiempo!"),o(n,"timeisup_share","Â¡CompÃ¡rtalo con amigos, \n extra 5 segundos!"),o(n,"timeisup_end","Â¡Se acabÃ³ el tiempo!"),o(n,"noads","El anuncio falta temporalmente, \n por favor intente mÃ¡s tarde."),o(n,"inv_again","No se pueden enviar invitaciones a los usuarios actuales, intente invitar a otros usuarios."),o(n,"queding","Determinar"),o(n,"receiveGift","Felicidades! Â¡ObtÃ©n ayuda!"),o(n,"getCoins","Consigue mÃ¡s monedas"),o(n,"getCoinText","Mira el video para obtener 100 monedas de oro?"),o(n,"getHearts","Obtenga mÃ¡s fuerza fÃ­sica."),o(n,"getHeartText","Invita a un amigo o mira un video para obtener 5 puntos fuertes individuales"),o(n,"giftTitel","Paquete de regalo"),o(n,"settingTitel","Ajuste"),o(n,"langTitel","Idioma:"),o(n,"musicTitel","MÃºsica:"),o(n,"moveTitel","Out of moves!"),o(n,"moveTitel","Obtenga mÃ¡s pasos!"),o(n,"unlockTitel","Desbloquear nivel"),o(n,"unlockText","Invita a tus amigos a desbloquear el nivel"),o(n,"failTitel","FAIL"),o(n,"videoText","Video falta. Por favor, intentelo de nuevo."),o(n,"shareText","Por favor compartir a otro grupo de o amigo."),n)},cc._RF.pop()},{}],facebook111:[function(t,e,i){"use strict";cc._RF.push(e,"de06etC19tFMbU3EZT0VK+O","facebook111");var n,o=t("../Utils/Utils"),a=t("./script/sdk_ad"),l="https://haiwai.31home.com:8003/games.recommend",c="AD_LOADING",s="AD_LOAD_SUCCESS",r="AD_COMPLETE",d=[0x5b7d1cf0050f3,0x63feaccfa70df],u="160840521263423",h={},p=2,f=1,g=1,m=0,y=function(){this.cb=null,this.videoAd=null,this.videoAdState=null,this.InterstitialAd=null,this.InterstitialAdState=null,this.sdk_ad=null};y.prototype.getGameId=function(){return u},y.prototype.openVideoAd=function(){return 1<=f},y.prototype.openinterstitialAd=function(){return 1<=g},y.prototype.getInterstitialCount=function(){return p},y.prototype.isPlayOpAD=function(){return 10*cc.random0To1()<=m},y.prototype.setUp=function(t,e,i,n){if(console.log("setUp__interstitialCount",i),console.log("interstitialCount",p),p=i,f=t,g=e,m=n,console.log("__________________interstitialCount:",p),1<=g&&1<=m){var o=cc.find("Canvas/sdk_ad");null!=o&&(this.sdk_ad=o.getComponent(a)),this.reLoadOpAd()}},y.prototype.switchGameAsync=function(t){if("undefined"==typeof FBInstant)return!1;FBInstant.switchGameAsync(t).catch(function(t){})},y.prototype.reLoadOpAd=function(){if(cc.log("reLoadOpAd:"),null!=this.sdk_ad&&1<=g&&1<=m){var c=this,s=new XMLHttpRequest;s.onreadystatechange=function(){if(4==s.readyState&&200==s.status){var t=JSON.parse(s.responseText);if(console.log("______________response",t),500!=t.code){var e=t.data.rows[0];if(null!=e){var i=e.pic3,n=e.pic2,o=e.pic1,a=e.game_id;c.sdk_ad.setAd(i,n,o,a)}}}},s.open("GET",l+"?game_id="+u+"&amount=1",!0),s.setRequestHeader("Content-type","application/x-www-form-urlencoded"),s.send(),console.log(l+"?game_id="+u+"&amount=1")}},y.prototype.init=function(){if(this.initOP(),"undefined"!=typeof FBInstant){this.loadVideoAd(),this.loadInterstitialAd(),h.name=FBInstant.player.getName(),cc.loader.load(FBInstant.player.getPhoto(),function(t,e){h.head=new cc.SpriteFrame(e)}),h.id=FBInstant.player.getID();FBInstant.getLocale();t("LanguageData").init("en")}else{t("LanguageData").init("en")}},y.prototype.initOP=function(){var c=this,s=new XMLHttpRequest;s.onreadystatechange=function(){if(4==s.readyState&&200==s.status){var t=JSON.parse(s.responseText);if(console.log("response",t),500!=t.code){var e=t.data,i=e.interstitial_op,n=e.interstitial_count,o=e.video_on,a=e.interstitial_on;c.setUp(o,a,n,i)}}},s.open("GET","https://haiwai.31home.com:8003/games.detail?game_id="+SDK().getGameId(),!0),s.setRequestHeader("Content-type","application/x-www-form-urlencoded"),s.send()},y.prototype.isGM=function(){if("undefined"==typeof FBInstant)return!1;var t=FBInstant.player.getID();return o.inArray(t,d)},y.prototype.clearData=function(){if("undefined"==typeof FBInstant)return!1;SDK().setScore({all:0},null),SDK().setScore({my_help:0},null);for(var t=1;t<=6;t++){for(var e=1;e<=100;e++){var i={};i["1_"+t+"_"+e]=0,this.setScore(i,null);var n={};n["1_"+t+"_"+e+"_moves"]=0,this.setScore(n,null)}var o={};o["1_"+t]=0,this.setScore(o,null);var a={};a["unlock_1_"+t]=0,SDK().setScore(a,null)}},y.prototype.getLocale=function(){if("undefined"!=typeof FBInstant)return FBInstant.getLocale()},y.prototype.canCreateShortcutAsync=function(e){"undefined"!=typeof FBInstant&&FBInstant.canCreateShortcutAsync().then(function(t){t?FBInstant.createShortcutAsync().then(function(){null!=e&&e(!0)}).catch(function(){null!=e&&e(!1)}):null!=e&&e(!1)})},y.prototype.share=function(t,e){if("undefined"!=typeof FBInstant){var i=this;FBInstant.context.chooseAsync().then(function(){console.log("FBInstant.context.getID():",FBInstant.context.getID()),i.doShare(t),null!=e&&e(!0)}).catch(function(t){console.log("catch",t),null!=t.code&&"SAME_CONTEXT"==t.code&&null!=e&&e(!1)})}else null!=e&&e(!0)},y.prototype.doShare=function(t){var c=this.getName()+" finish "+t+" missions,Can you beat me?";this.getName();cc.loader.loadRes("texture2d/game_icon",cc.Texture2D,function(t,e){var i=document.createElement("canvas"),n=i.getContext("2d");i.width=600,i.height=420;var o=e.getHtmlElementObj();n.drawImage(o,0,0);var a=i.toDataURL("image/png");FBInstant.updateAsync({action:"CUSTOM",cta:"Play Game",template:"join_fight",image:a,text:c,data:{myReplayData:"..."},strategy:"IMMEDIATE",notification:"NO_PUSH"}).then(function(){})})},y.prototype.loadInterstitialAd=function(){"undefined"!=typeof FBInstant&&this.openinterstitialAd()&&FBInstant.getInterstitialAdAsync("160840521263423_160841827929959").then(function(t){return this.InterstitialAd=t,this.InterstitialAdState=c,this.InterstitialAd.loadAsync()}.bind(this)).catch(function(t){}.bind(this)).then(function(){this.InterstitialAdState=s}.bind(this))},y.prototype.stat=function(t,e){var i=new XMLHttpRequest;i.onreadystatechange=function(){if(4==i.readyState&&200==i.status)JSON.parse(i.responseText)},i.open("GET","https://haiwai.31home.com:8003/games.stat?game_id="+e+"&type="+t,!0),i.setRequestHeader("Content-type","application/x-www-form-urlencoded"),i.send()},y.prototype.onOpAdBtnClicked=function(){null!=this.sdk_ad&&this.sdk_ad.onPlayBtnClicked()},y.prototype.getOpAdPic=function(t){return null==this.sdk_ad?null:1==t?this.sdk_ad.pic1:2==t?this.sdk_ad.pic2:3==t?this.sdk_ad.pic3:void 0},y.prototype.showInterstitialAd=function(e,t){"undefined"!=typeof FBInstant?(console.log("FB_SDK.prototype.showInterstitialAd",this.InterstitialAd),console.log("this.sdk_ad",this.sdk_ad),console.log("interstitialOn",g),g<1||(null!=this.sdk_ad&&1<=m&&o.GetRandomNum(1,10)<=m&&!t||null==this.InterstitialAd&&null!=this.sdk_ad&&!t?(console.log("sdk_ad:",this.sdk_ad),this.sdk_ad.show(),this.stat(1,this.sdk_ad.game_id),e&&e(!0)):null!=this.InterstitialAd?this.InterstitialAd.showAsync().then(function(){this.InterstitialAdState=r,e&&e(!0),this.loadInterstitialAd()}.bind(this)).catch(function(t){this.InterstitialAdState=r,e&&e(!1)}.bind(this)):(e&&e(!1),this.loadInterstitialAd()))):e&&e(!1)},y.prototype.loadVideoAd=function(){"undefined"!=typeof FBInstant&&this.openVideoAd()&&FBInstant.getRewardedVideoAsync("160840521263423_160841467929995").then(function(t){return this.videoAd=t,this.videoAdState=c,this.videoAd.loadAsync()}.bind(this)).then(function(){this.videoAdState=s}.bind(this))},y.prototype.hasVideoAd=function(){return"undefined"!=typeof FBInstant&&null!=this.videoAd},y.prototype.showVideoAd=function(e){"undefined"!=typeof FBInstant?null!=this.videoAd?this.videoAd.showAsync().then(function(){this.videoAdState=r,e&&e(!0),this.loadVideoAd()}.bind(this)).catch(function(t){this.videoAdState=r,e&&e(!1),this.loadVideoAd()}.bind(this)):(e&&e(!1),this.loadVideoAd()):e&&e(!0)},y.prototype.getName=function(){return"undefined"==typeof FBInstant?"undefined":FBInstant.player.getName()},y.prototype.getItem=function(e,i){if("undefined"==typeof FBInstant){void 0!==(n=JSON.parse(cc.sys.localStorage.getItem(e)))&&null!=n||(n=0),i(n,e)}else{var n=0;FBInstant.player.getDataAsync([""+e]).then(function(t){n=void 0===t[e]?0:t[e],i(n,e)})}},y.prototype.setItem=function(t,e){if("undefined"==typeof FBInstant){for(var i in t)cc.sys.localStorage.setItem(i,t[i]);null!=e&&e()}else FBInstant.player.setDataAsync(t).then(function(){null!=e&&e()})},y.prototype.playWith=function(t,e,i){if("undefined"!=typeof FBInstant){var n=this;FBInstant.context.createAsync(t).then(function(){n.doShare(e),i(null!=i)})}else null!=i&&i(!0)},y.prototype.getFriendsInfo=function(i){if("undefined"==typeof FBInstant)console.log("set rank fail"),null!=i&&i({});else{var n=[];FBInstant.player.getConnectedPlayersAsync().then(function(t){for(var e=0;e<t.length;e+=1)n[e]={},n[e].id=t[e].getID(),n[e].name=t[e].getName(),n[e].headUrl=t[e].getPhoto();null!=i&&i(n)})}},y.prototype.getSelfInfo=function(t){if("undefined"!=typeof FBInstant)return null!=t&&t(h),h;console.log("set rank fail"),null!==t&&t({})},y.prototype.setRankScore=function(t,e,i,n){if("undefined"==typeof FBInstant)console.log("set rank fail");else{var o,a=FBInstant.context.getID();if(null!=a&&(a="."+a),1==t){if(o="Friends",null==a)return console.log(FBInstant.context.getType()),void(a="")}else{if(2!=t)return null!=n&&n("wrong type"),void console.log("wrong type");o="World",a=""}FBInstant.getLeaderboardAsync(o+a).then(function(t){return console.log(t.getName()),t.setScoreAsync(e,i)}).then(function(){return console.log("Score saved")}).catch(function(t){return console.error(t)})}},y.prototype.getRankScore=function(t,i){if("undefined"==typeof FBInstant)console.log("get self rank fail");else{var e,n=FBInstant.context.getID();if(null!=n&&(n="."+n),1==t){if(e="Friends",null==n)return console.log(FBInstant.context.getType()),void(n="")}else{if(2!=t)return null!=i&&i("wrong type"),void console.log("wrong type");e="World",n=""}FBInstant.getLeaderboardAsync(e+n).then(function(t){return t.getPlayerEntryAsync()}).then(function(t){var e={};e.id=t.getPlayer().getID(),e.no=t.getRank(),e.name=t.getPlayer().getName(),e.score=t.getScore(),e.headUrl=t.getPlayer().getPhoto(),i(e)}).catch(function(t){return console.error(t)})}},y.prototype.getPercent=function(e){"undefined"==typeof FBInstant?(console.log("get rank fail"),null!=e&&e()):FBInstant.getLeaderboardAsync("World").then(function(t){return t.getEntryCountAsync()}).then(function(t){null!=e&&e(t)})},y.prototype.getRank=function(t,e,i,n){if("undefined"==typeof FBInstant)console.log("get rank fail");else{var o,a=FBInstant.context.getID();if(null!=a&&(a="."+a),1==t){if(o="Friends",null==a)return console.log(FBInstant.context.getType()),a="",void(null!=n&&n([]))}else{if(2!=t)return null!=n&&n("wrong type"),void console.log("wrong type");o="World",a=""}var c=[];FBInstant.getLeaderboardAsync(o+a).then(function(t){return t.getEntriesAsync(e,i)}).then(function(t){for(var e=0;e<t.length;e++)c[e]={},c[e].id=t[e].getPlayer().getID(),c[e].no=t[e].getRank(),c[e].name=t[e].getPlayer().getName(),c[e].score=t[e].getScore(),c[e].headUrl=t[e].getPlayer().getPhoto();null!=n&&n(c)}).catch(function(t){return console.error(t)})}},y.prototype.postRankToMessage=function(t,e){if("undefined"==typeof FBInstant)console.log("post rank fail");else{var i,n=FBInstant.context.getID();if(null!=n&&(n="."+n),1==t){if(i="Friends",null==n)return console.log(FBInstant.context.getType()),void(n="")}else{if(2!=t)return null!=e&&e("wrong type"),void console.log("wrong type");i="World",n=""}FBInstant.updateAsync({action:"LEADERBOARD",name:i+n}).then(function(){return console.log("Update Posted")}).catch(function(t){return console.error(t)})}},e.exports=function(){return n||(n=new y),n},cc._RF.pop()},{"../Utils/Utils":"Utils","./script/sdk_ad":"sdk_ad",LanguageData:"LanguageData"}],facebook:[function(t,e,i){"use strict";cc._RF.push(e,"6542a5UC9RCqLxrtQE6lpYc","facebook");var n,o=t("./utils/SDKUtils"),a=t("./script/sdk_ad"),c="https://haiwai.31home.com:8003/games.recommend",s="AD_LOADING",l="AD_LOAD_SUCCESS",r="AD_COMPLETE",d="281530152603837",u=2,h=1,p=1,f=0,g="Friends",m="World",y={},v=function(){this.cb=null,this.videoAd=null,this.videoAdState=null,this.InterstitialAd=null,this.InterstitialAdState=null,this.playTimes=0,this.sdk_ad=null};v.prototype.init=function(){if(this.initOP(),"undefined"!=typeof FBInstant){this.playTimes=0,this.loadVideoAd(),this.loadInterstitialAd(),y.name=FBInstant.player.getName(),cc.loader.load(FBInstant.player.getPhoto(),function(t,e){y.head=new cc.SpriteFrame(e)}),y.id=FBInstant.player.getID();this.getLocale()}else t("LanguageData")},v.prototype.initOP=function(){var c=this,s=new XMLHttpRequest;s.onreadystatechange=function(){if(4==s.readyState&&200==s.status){var t=JSON.parse(s.responseText);if(console.log("response",t),500!=t.code){var e=t.data,i=e.interstitial_op,n=e.interstitial_count,o=e.video_on,a=e.interstitial_on;c.setUp(o,a,n,i)}}},s.open("GET","https://haiwai.31home.com:8003/games.detail?game_id="+SDK().getGameId(),!0),s.setRequestHeader("Content-type","application/x-www-form-urlencoded"),s.send()},v.prototype.setUp=function(t,e,i,n){if(u=i,h=t,f=n,1<=(p=e)&&1<=f){var o=cc.find("Canvas/sdk_ad");null!=o&&(this.sdk_ad=o.getComponent(a)),this.reLoadOpAd()}},v.prototype.reLoadOpAd=function(){if(null!=this.sdk_ad&&1<=p&&1<=f){var o=this,a=new XMLHttpRequest;a.onreadystatechange=function(){if(4==a.readyState&&200==a.status){var t=JSON.parse(a.responseText);if(500!=t.code){var e=t.data.rows[0];if(null!=e){var i=e.pic3,n=e.game_id;o.sdk_ad.setAd(i,n)}}}},a.open("GET",c+"?game_id="+d+"&amount=1",!0),a.setRequestHeader("Content-type","application/x-www-form-urlencoded"),a.send()}},v.prototype.getRecommendGames=function(t,e){var i=new XMLHttpRequest;i.onreadystatechange=function(){if(4==i.readyState&&200==i.status){var t=JSON.parse(i.responseText);500!=t.code?null!=e&&e(!0,t):null!=e&&e(!1,{})}},i.open("GET",c+"?game_id="+d+"&amount="+t,!0),i.setRequestHeader("Content-type","application/x-www-form-urlencoded"),i.send()},v.prototype.getItem=function(e,i){if("undefined"==typeof FBInstant){void 0!==(n=JSON.parse(cc.sys.localStorage.getItem(e)))&&null!=n||(n=0),i(n,e)}else{var n=0;FBInstant.player.getDataAsync([""+e]).then(function(t){n=void 0===t[e]?0:t[e],i(n,e)})}},v.prototype.setItem=function(t,e){if("undefined"==typeof FBInstant){for(var i in t)cc.sys.localStorage.setItem(i,t[i]);null!=e&&e()}else FBInstant.player.setDataAsync(t).then(function(){null!=e&&e()})},v.prototype.getLocale=function(){if("undefined"!=typeof FBInstant)return FBInstant.getLocale()},v.prototype.getGameId=function(){return d},v.prototype.getName=function(){return"undefined"==typeof FBInstant?"undefined":FBInstant.player.getName()},v.prototype.canCreateShortcutAsync=function(e){"undefined"!=typeof FBInstant&&FBInstant.canCreateShortcutAsync().then(function(t){t?FBInstant.createShortcutAsync().then(function(){null!=e&&e(!0)}).catch(function(){null!=e&&e(!1)}):null!=e&&e(!1)})},v.prototype.switchGameAsync=function(t){if("undefined"==typeof FBInstant)return!1;FBInstant.switchGameAsync(t).catch(function(t){})},v.prototype.getCatalogAsync=function(e){"undefined"!=typeof FBInstant?FBInstant.payments.getCatalogAsync().then(function(t){console.log(t),e(t)}):null!=e&&e([])},v.prototype.purchaseAsync=function(t,e,i){"undefined"!=typeof FBInstant?FBInstant.payments.purchaseAsync({productID:t,developerPayload:e}).then(function(t){console.log(!0,t),i(t)}).catch(function(t){i(!1,null)}):null!=i&&i(!1,null)},v.prototype.getPurchasesAsync=function(e){"undefined"!=typeof FBInstant?FBInstant.payments.getPurchasesAsync().then(function(t){e(t)}).catch(function(t){e([])}):null!=e&&e(!1,null)},v.prototype.consumePurchaseAsync=function(t,e){"undefined"!=typeof FBInstant?FBInstant.payments.consumePurchaseAsync(t).then(function(){e(!0)}).catch(function(t){e(!1)}):null!=e&&e(!1,null)},v.prototype.share=function(t,e){if("undefined"!=typeof FBInstant){var i=this;FBInstant.context.chooseAsync().then(function(){i.doShare(t),null!=e&&e(!0)}).catch(function(t){null!=t.code&&"SAME_CONTEXT"==t.code&&null!=e&&e(!1)})}else null!=e&&e(!0)},v.prototype.doShare=function(t){var c=this.getName()+" finish "+t+" stars,Can you beat me?";this.getName();cc.loader.loadRes("texture2d/game_icon",cc.Texture2D,function(t,e){var i=document.createElement("canvas"),n=i.getContext("2d");i.width=600,i.height=420;var o=e.getHtmlElementObj();n.drawImage(o,0,0);var a=i.toDataURL("image/png");FBInstant.updateAsync({action:"CUSTOM",cta:"Play Game",template:"join_fight",image:a,text:c,data:{myReplayData:"..."},strategy:"IMMEDIATE",notification:"NO_PUSH"}).then(function(){})})},v.prototype.shareBestScore3Times=function(n){SDK().getItem("share_times",function(t){var e=Math.floor(Date.now()/1e3);if(null==t||t<=0||t-e<0){var i={};i.share_times=e+180,SDK().setItem(i,function(){SDK().shareBestScore(n)})}})},v.prototype.shareBestScore=function(t,e){null!=t&&""!=t||(t="all"),this.getItem(t,function(t){SDK().share(t,function(t){e&&e(t)})}.bind(this))},v.prototype.plusPlayTimes=function(){if(this.playTimes++,1<this.playTimes&&this.playTimes%this.getInterstitialCount()==0&&this.playTimes>=this.getInterstitialCount()||this.getInterstitialCount()<=1&&1<this.playTimes){var t=200+1e3*Math.random();setTimeout(function(){this.showInterstitialAd(function(t){console.log("æ’­æ”¾Done")},!1)}.bind(this),t)}this.playTimes%5==0&&this.canCreateShortcutAsync(),5==this.playTimes&&this.shareBestScore("all",null)},v.prototype.openVideoAd=function(){return 1<=h},v.prototype.openinterstitialAd=function(){return 1<=p},v.prototype.getInterstitialCount=function(){return u},v.prototype.isPlayOpAD=function(){return 10*cc.random0To1()<=f},v.prototype.loadInterstitialAd=function(){"undefined"!=typeof FBInstant&&this.openinterstitialAd()&&FBInstant.getInterstitialAdAsync("281530152603837_281531689270350").then(function(t){return this.InterstitialAd=t,this.InterstitialAdState=s,this.InterstitialAd.loadAsync()}.bind(this)).catch(function(t){}.bind(this)).then(function(){this.InterstitialAdState=l}.bind(this))},v.prototype.showInterstitialAd=function(e,t){if(!(p<1))if(null!=this.sdk_ad&&1<=f&&o.GetRandomNum(1,10)<=f&&!t||null==this.InterstitialAd&&null!=this.sdk_ad&&!t)console.log("sdk_ad:",this.sdk_ad),this.sdk_ad.show(),this.stat(1,this.sdk_ad.game_id),e&&e(!0);else if(null!=this.InterstitialAd){if("undefined"==typeof FBInstant)return void(e&&e(!1));this.InterstitialAd.showAsync().then(function(){this.InterstitialAdState=r,e&&e(!0),this.loadInterstitialAd()}.bind(this)).catch(function(t){this.InterstitialAdState=r,e&&e(!1)}.bind(this))}else e&&e(!1),this.loadInterstitialAd()},v.prototype.loadVideoAd=function(){"undefined"!=typeof FBInstant&&this.openVideoAd()&&FBInstant.getRewardedVideoAsync("281530152603837_281532319270287").then(function(t){return this.videoAd=t,this.videoAdState=s,this.videoAd.loadAsync()}.bind(this)).then(function(){this.videoAdState=l}.bind(this))},v.prototype.hasVideoAd=function(){return"undefined"!=typeof FBInstant&&null!=this.videoAd},v.prototype.showVideoAd=function(e){"undefined"!=typeof FBInstant?null!=this.videoAd?this.videoAd.showAsync().then(function(){this.videoAdState=r,e&&e(!0),this.loadVideoAd()}.bind(this)).catch(function(t){this.videoAdState=r,e&&e(!1),this.loadVideoAd()}.bind(this)):(e&&e(!1),this.loadVideoAd()):e&&e(!1)},v.prototype.stat=function(t,e){var i=new XMLHttpRequest;i.onreadystatechange=function(){if(4==i.readyState&&200==i.status)JSON.parse(i.responseText)},i.open("GET","https://haiwai.31home.com:8003/games.stat?game_id="+e+"&type="+t,!0),i.setRequestHeader("Content-type","application/x-www-form-urlencoded"),i.send()},v.prototype.playWith=function(t,e,i){if("undefined"!=typeof FBInstant){var n=this;FBInstant.context.createAsync(t).then(function(){n.doShare(e),i(null!=i)}).catch(i(!1))}else null!=i&&i(!0)},v.prototype.getSelfInfo=function(t){if("undefined"!=typeof FBInstant)return null!=t&&t(y),y;console.log("set rank fail"),null!==t&&t({})},v.prototype.setRankScore=function(t,e,i,n){if("undefined"==typeof FBInstant)console.log("set rank fail");else{var o,a=FBInstant.context.getID();if(null!=a&&(a="."+a),1==t){if(o=g,null==a)return console.log(FBInstant.context.getType()),void(a="")}else{if(2!=t)return null!=n&&n("wrong type"),void console.log("wrong type");o=m,a=""}FBInstant.getLeaderboardAsync(o+a).then(function(t){return console.log(t.getName()),t.setScoreAsync(e,i)}).then(function(){return console.log("Score saved")}).catch(function(t){return console.error(t)})}},v.prototype.getRankScore=function(t,i){if("undefined"==typeof FBInstant)console.log("get self rank fail");else{var e,n=FBInstant.context.getID();if(null!=n&&(n="."+n),1==t){if(e=g,null==n)return console.log(FBInstant.context.getType()),void(n="")}else{if(2!=t)return null!=i&&i("wrong type"),void console.log("wrong type");e=m,n=""}FBInstant.getLeaderboardAsync(e+n).then(function(t){return t.getPlayerEntryAsync()}).then(function(t){var e={};e.id=t.getPlayer().getID(),e.no=t.getRank(),e.name=t.getPlayer().getName(),e.score=t.getScore(),e.headUrl=t.getPlayer().getPhoto(),i(e)}).catch(function(t){return console.error(t)})}},v.prototype.getPercent=function(e){"undefined"==typeof FBInstant?(console.log("get rank fail"),null!=e&&e()):FBInstant.getLeaderboardAsync("World").then(function(t){return t.getEntryCountAsync()}).then(function(t){null!=e&&e(t)})},v.prototype.getRank=function(t,e,i,n){if("undefined"==typeof FBInstant)console.log("get rank fail");else{var o,a=FBInstant.context.getID();if(null!=a&&(a="."+a),1==t){if(o=g,null==a)return console.log(FBInstant.context.getType()),a="",void(null!=n&&n([]))}else{if(2!=t)return null!=n&&n("wrong type"),void console.log("wrong type");o=m,a=""}var c=[];FBInstant.getLeaderboardAsync(o+a).then(function(t){return t.getEntriesAsync(e,i)}).then(function(t){for(var e=0;e<t.length;e++)c[e]={},c[e].id=t[e].getPlayer().getID(),c[e].no=t[e].getRank(),c[e].name=t[e].getPlayer().getName(),c[e].score=t[e].getScore(),c[e].headUrl=t[e].getPlayer().getPhoto();null!=n&&n(c)}).catch(function(t){return console.error(t)})}},v.prototype.getFriendsRank=function(t,e,i,n){if("undefined"==typeof FBInstant)console.log("getFriendsInfo fail"),null!=n&&n({});else{var o,a=FBInstant.context.getID();if(null!=a&&(a="."+a),1==t){if(o=g,null==a)return console.log(FBInstant.context.getType()),a="",void(null!=n&&n([]))}else{if(2!=t)return null!=n&&n("wrong type"),void console.log("wrong type");o=m,a=""}var c=[];FBInstant.getLeaderboardAsync(o+a).then(function(t){return t.getConnectedPlayerEntriesAsync(e,i)}).then(function(t){for(var e=0;e<t.length;e+=1)c[e]={},c[e].id=t[e].getPlayer().getID(),c[e].name=t[e].getPlayer().getName(),c[e].headUrl=t[e].getPlayer().getPhoto(),c[e].No=t[e].getRank(),c[e].score=t[e].getScore();null!=n&&n(c)})}},v.prototype.postRankToMessage=function(t,e){if("undefined"==typeof FBInstant)console.log("post rank fail");else{var i,n=FBInstant.context.getID();if(null!=n&&(n="."+n),1==t){if(i=g,null==n)return console.log(FBInstant.context.getType()),void(n="")}else{if(2!=t)return null!=e&&e("wrong type"),void console.log("wrong type");i=m,n=""}FBInstant.updateAsync({action:"LEADERBOARD",name:i+n}).then(function(){return console.log("Update Posted")}).catch(function(t){return console.error(t)})}},e.exports=function(){return n||(n=new v),n},cc._RF.pop()},{"./script/sdk_ad":"sdk_ad","./utils/SDKUtils":"SDKUtils",LanguageData:"LanguageData"}],globals:[function(t,e,i){"use strict";cc._RF.push(e,"f774aa2KJxEp68y3WRvT7GZ","globals"),window.SDK=t("../SDK/facebook"),window.playTimesAD=2,window.isDebug=!1,window.lineWidth=6,window.plusHelp=5,window.openAllLevel=!1,window.langArr=["English","PortuguÃªs","El espaÃ±ol","à¤­à¤¾à¤°à¤¤ à¤—à¤£à¤°à¤¾à¤œà¥à¤¯","ä¸­æ–‡"],window.nameArr=["en","pt","es","in","zh"],cc._RF.pop()},{"../SDK/facebook":"facebook"}],in:[function(t,e,i){"use strict";var n;function o(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}cc._RF.push(e,"912d1ipPJ1OWJpXTL4aCmxu","in"),window.i18n||(window.i18n={}),window.i18n.languages||(window.i18n.languages={}),window.i18n.languages.in={label_text:(n={helpTip:"à¤¦à¤¿à¤¶à¤¾ à¤¨à¤¿à¤°à¥à¤¦à¥‡à¤¶à¤¿à¤¤ à¤•à¤°à¤¨à¥‡ à¤”à¤° à¤­à¥‚à¤²à¤­à¥à¤²à¥ˆà¤¯à¤¾ à¤•à¥‡ à¤¬à¤¾à¤¹à¤° à¤¨à¤¿à¤•à¤²à¤¨à¥‡ à¤•à¥‡ à¤²à¤¿à¤ à¤¸à¥à¤•à¥à¤°à¥€à¤¨ à¤¸à¥à¤²à¤¾à¤‡à¤¡ à¤•à¤°à¥‡à¤‚! !",watchAdTip:"à¤…à¤—à¥à¤°à¤¿à¤® à¤®à¥‡à¤‚ à¤‡à¤¸ à¤¸à¥à¤¤à¤° à¤•à¥‹ à¤…à¤¨à¤²à¥‰à¤• à¤•à¤°à¤¨à¥‡ à¤•à¥‡ à¤²à¤¿à¤ à¤µà¥€à¤¡à¤¿à¤¯à¥‹ à¤µà¤¿à¤œà¥à¤žà¤¾à¤ªà¤¨ \n à¤¦à¥‡à¤–à¥‡à¤‚!",watchAdBtn:"à¤¸à¥à¤¤à¤° à¤…à¤¨à¤²à¥‰à¤• à¤•à¤°à¥‡à¤‚",invBtn:"à¤¦à¥‹à¤¸à¥à¤¤à¥‹à¤‚ à¤•à¥‹ à¤†à¤®à¤‚à¤¤à¥à¤°à¤¿à¤¤ à¤•à¤°à¥‡à¤‚",watchAdHelip:"à¤µà¥€à¤¡à¤¿à¤¯à¥‹ à¤¦à¥‡à¤–à¥‡à¤‚ \n 5 à¤¸à¤¹à¤¾à¤¯à¤¤à¤¾ à¤ªà¥à¤°à¤¾à¤ªà¥à¤¤ à¤•à¤°à¥‡à¤‚!"},o(n,"watchAdBtn","à¤†à¤®à¤‚à¤¤à¥à¤°à¤£"),o(n,"shareAdHelp","à¤”à¤° à¤¸à¥à¤à¤¾à¤µ à¤ªà¥à¤°à¤¾à¤ªà¥à¤¤ à¤•à¤°à¥‡à¤‚!"),o(n,"shareAdHelpText","à¤¦à¥‹à¤¸à¥à¤¤à¥‹à¤‚ à¤•à¥‹ 3 à¤¯à¥à¤•à¥à¤¤à¤¿à¤¯à¤¾à¤ à¤ªà¥à¤°à¤¾à¤ªà¥à¤¤ à¤•à¤°à¤¨à¥‡ à¤•à¥‡ à¤²à¤¿à¤ à¤†à¤®à¤‚à¤¤à¥à¤°à¤¿à¤¤ à¤•à¤°à¥‡à¤‚!"),o(n,"shareAdBtn","à¤¶à¥‡à¤¯à¤°"),o(n,"later","à¤ªà¤¾à¤¸"),o(n,"replay","à¤ à¥€à¤•"),o(n,"timeisup","à¤…à¤§à¤¿à¤• à¤¸à¤®à¤¯ à¤ªà¤¾à¤¨à¥‡ à¤•à¥‡ à¤²à¤¿à¤ à¤µà¥€à¤¡à¤¿à¤¯à¥‹ à¤¦à¥‡à¤–à¥‡à¤‚!"),o(n,"timeisup_share","à¤¦à¥‹à¤¸à¥à¤¤à¥‹à¤‚ à¤•à¥‡ à¤¸à¤¾à¤¥ à¤¸à¤¾à¤à¤¾ à¤•à¤°à¥‡à¤‚, \n à¤…à¤¤à¤¿à¤°à¤¿à¤•à¥à¤¤ 5 à¤¸à¥‡à¤•à¤‚à¤¡!"),o(n,"timeisup_end","à¤¸à¤®à¤¯ à¤–à¤¤à¥à¤® à¤¹à¥‹ à¤—à¤¯à¤¾ à¤¹à¥ˆ!"),o(n,"noads","à¤µà¤¿à¤œà¥à¤žà¤¾à¤ªà¤¨ à¤…à¤¸à¥à¤¥à¤¾à¤¯à¥€ à¤°à¥‚à¤ª à¤¸à¥‡ à¤—à¤¾à¤¯à¤¬ à¤¹à¥ˆ, \n à¤•à¥ƒà¤ªà¤¯à¤¾ à¤¬à¤¾à¤¦ à¤®à¥‡à¤‚ à¤ªà¥à¤°à¤¯à¤¾à¤¸ à¤•à¤°à¥‡à¤‚à¥¤"),o(n,"inv_again","à¤µà¤°à¥à¤¤à¤®à¤¾à¤¨ à¤‰à¤ªà¤¯à¥‹à¤—à¤•à¤°à¥à¤¤à¤¾à¤“à¤‚ à¤•à¥‹ à¤¨à¤¿à¤®à¤‚à¤¤à¥à¤°à¤£ à¤¨à¤¹à¥€à¤‚ à¤­à¥‡à¤œ à¤¸à¤•à¤¤à¥‡ à¤¹à¥ˆà¤‚, à¤•à¥ƒà¤ªà¤¯à¤¾ à¤…à¤¨à¥à¤¯ à¤‰à¤ªà¤¯à¥‹à¤—à¤•à¤°à¥à¤¤à¤¾à¤“à¤‚ à¤•à¥‹ à¤†à¤®à¤‚à¤¤à¥à¤°à¤¿à¤¤ à¤•à¤°à¤¨à¥‡ à¤•à¤¾ à¤ªà¥à¤°à¤¯à¤¾à¤¸ à¤•à¤°à¥‡à¤‚à¥¤"),o(n,"queding","à¤¨à¤¿à¤°à¥à¤§à¤¾à¤°à¤¿à¤¤"),o(n,"receiveGift","à¤¬à¤§à¤¾à¤ˆ! à¤¸à¤¹à¤¾à¤¯à¤¤à¤¾ à¤ªà¥à¤°à¤¾à¤ªà¥à¤¤ à¤•à¤°à¥‡à¤‚!"),o(n,"getCoins","à¤…à¤§à¤¿à¤• à¤¸à¤¿à¤•à¥à¤•à¥‡ à¤ªà¥à¤°à¤¾à¤ªà¥à¤¤ à¤•à¤°à¥‡à¤‚à¥¤"),o(n,"getCoinText","100 à¤¸à¥à¤µà¤°à¥à¤£ à¤¸à¤¿à¤•à¥à¤•à¥‡ à¤ªà¥à¤°à¤¾à¤ªà¥à¤¤ à¤•à¤°à¤¨à¥‡ à¤•à¥‡ à¤²à¤¿à¤ à¤µà¥€à¤¡à¤¿à¤¯à¥‹ à¤¦à¥‡à¤–à¥‡à¤‚?"),o(n,"getHearts","à¤…à¤§à¤¿à¤• à¤¶à¤¾à¤°à¥€à¤°à¤¿à¤• à¤¶à¤•à¥à¤¤à¤¿ à¤ªà¥à¤°à¤¾à¤ªà¥à¤¤ à¤•à¤°à¥‡à¤‚à¥¤"),o(n,"getHeartText","5 à¤µà¥à¤¯à¤•à¥à¤¤à¤¿à¤—à¤¤ à¤¶à¤•à¥à¤¤à¤¿à¤¯à¥‹à¤‚ à¤•à¥‹ à¤ªà¤¾à¤¨à¥‡ à¤•à¥‡ à¤²à¤¿à¤ à¤•à¤¿à¤¸à¥€ à¤®à¤¿à¤¤à¥à¤° à¤•à¥‹ à¤†à¤®à¤‚à¤¤à¥à¤°à¤¿à¤¤ à¤•à¤°à¥‡à¤‚ à¤¯à¤¾ à¤µà¥€à¤¡à¤¿à¤¯à¥‹ à¤¦à¥‡à¤–à¥‡à¤‚"),o(n,"giftTitel","à¤‰à¤ªà¤¹à¤¾à¤° à¤ªà¥ˆà¤•à¥‡à¤œ"),o(n,"settingTitel","à¤¸à¥‡à¤Ÿ à¤•à¤°à¥‡à¤‚"),o(n,"langTitel","à¤­à¤¾à¤·à¤¾:"),o(n,"musicTitel","à¤¸à¤‚à¤—à¥€à¤¤:"),o(n,"moveTitel","à¤”à¤° à¤•à¤¦à¤® à¤‰à¤ à¤¾à¤à¤‚!"),o(n,"unlockTitel","à¤¸à¥à¤¤à¤° à¤…à¤¨à¤²à¥‰à¤• à¤•à¤°à¥‡à¤‚"),o(n,"unlockText","à¤¸à¥à¤¤à¤° à¤•à¥‹ à¤…à¤¨à¤²à¥‰à¤• à¤•à¤°à¤¨à¥‡ à¤•à¥‡ à¤²à¤¿à¤ à¤®à¤¿à¤¤à¥à¤°à¥‹à¤‚ à¤•à¥‹ à¤†à¤®à¤‚à¤¤à¥à¤°à¤¿à¤¤ à¤•à¤°à¥‡à¤‚"),o(n,"failTitel","à¤…à¤¸à¤«à¤²"),o(n,"videoText","à¤µà¥€à¤¡à¤¿à¤¯à¥‹ à¤—à¥à¤® à¤¹à¥ˆà¥¤ à¤•à¥ƒà¤ªà¤¯à¤¾ à¤ªà¥à¤¨à¤ƒ à¤ªà¥à¤°à¤¯à¤¾à¤¸ à¤•à¤°à¥‡à¤‚à¥¤"),o(n,"shareText","à¤à¤• à¤”à¤° à¤¸à¤®à¥‚à¤¹ à¤¯à¤¾ à¤¦à¥‹à¤¸à¥à¤¤ à¤•à¥‹ à¤¸à¤¾à¤à¤¾ à¤•à¤°à¥‡à¤‚à¥¤"),n)},cc._RF.pop()},{}],"polyglot.min":[function(t,e,i){"use strict";cc._RF.push(e,"e26fd9yy65A4q3/JkpVnFYg","polyglot.min");var n,o,a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};n=void 0,o=function(e){function t(t){t=t||{},this.phrases={},this.extend(t.phrases||{}),this.currentLocale=t.locale||"en",this.allowMissing=!!t.allowMissing,this.warn=t.warn||i}function o(t,e,i){var n,o,a,c,s,l,r;return null!=i&&t?(a=(o=t.split(d))[(c=e,s=i,u[(l=c,r=function(t){var e,i,n,o={};for(e in t)if(t.hasOwnProperty(e))for(n in i=t[e])o[i[n]]=e;return o}(h),r[l]||r.en)](s))]||o[0],n=a.replace(/^\s+|\s+$/g,"")):n=t,n}function i(t){e.console&&e.console.warn&&e.console.warn("WARNING: "+t)}t.VERSION="0.4.3",t.prototype.locale=function(t){return t&&(this.currentLocale=t),this.currentLocale},t.prototype.extend=function(t,e){var i;for(var n in t)t.hasOwnProperty(n)&&(i=t[n],e&&(n=e+"."+n),"object"==(void 0===i?"undefined":a(i))?this.extend(i,n):this.phrases[n]=i)},t.prototype.clear=function(){this.phrases={}},t.prototype.replace=function(t){this.clear(),this.extend(t)},t.prototype.t=function(t,e){var i,n;return"number"==typeof(e=null==e?{}:e)&&(e={smart_count:e}),"string"==typeof this.phrases[t]?i=this.phrases[t]:"string"==typeof e._?i=e._:this.allowMissing?i=t:(this.warn('Missing translation for key: "'+t+'"'),n=t),"string"==typeof i&&(e=function(t){var e={};for(var i in t)e[i]=t[i];return e}(e),n=function(t,e){for(var i in e)"_"!==i&&e.hasOwnProperty(i)&&(t=t.replace(new RegExp("%\\{"+i+"\\}","g"),e[i]));return t}(n=o(i,this.currentLocale,e.smart_count),e)),n},t.prototype.has=function(t){return t in this.phrases};var d="||||",u={chinese:function(t){return 0},german:function(t){return 1!==t?1:0},french:function(t){return 1<t?1:0},russian:function(t){return t%10==1&&t%100!=11?0:2<=t%10&&t%10<=4&&(t%100<10||20<=t%100)?1:2},czech:function(t){return 1===t?0:2<=t&&t<=4?1:2},polish:function(t){return 1===t?0:2<=t%10&&t%10<=4&&(t%100<10||20<=t%100)?1:2},icelandic:function(t){return t%10!=1||t%100==11?1:0}},h={chinese:["fa","id","ja","ko","lo","ms","th","tr","zh"],german:["da","de","en","es","fi","el","he","hu","it","nl","no","pt","sv"],french:["fr","tl","pt-br"],russian:["hr","ru"],czech:["cs"],polish:["pl"],icelandic:["is"]};return t},"function"==typeof define&&define.amd?define([],function(){return o(n)}):"object"==(void 0===i?"undefined":a(i))?e.exports=o(n):n.Polyglot=o(n),cc._RF.pop()},{}],pt:[function(t,e,i){"use strict";var n;function o(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}cc._RF.push(e,"b879aUD7d5JHJbnkZ5rdQt8","pt"),window.i18n||(window.i18n={}),window.i18n.languages||(window.i18n.languages={}),window.i18n.languages.pt={label_text:(n={helpTip:"Deslize a tela para guiar a direÃ§Ã£o e encontrar a saÃ­da do labirinto! !",watchAdTip:"Veja o anÃºncio de vÃ­deo\n para desbloquear este nÃ­vel antecipadamente!",watchAdBtn:"NÃ­vel de desbloqueio",invBtn:"Convide amigos",watchAdHelip:"Assista ao vÃ­deo\n receba 5 ajuda!"},o(n,"watchAdBtn","Convite"),o(n,"shareAdHelp","Obtenha mais dicas!"),o(n,"shareAdHelpText","Convide amigos para receber 3 dicas!"),o(n,"shareAdBtn","Compartilhar"),o(n,"later","Fechar"),o(n,"replay","Okay"),o(n,"timeisup","Assista ao vÃ­deo para ganhar mais tempo!"),o(n,"timeisup_share","Compartilhe com os amigos,\n extra 5 segundos!"),o(n,"timeisup_end","O tempo acabou!"),o(n,"noads","O anÃºncio estÃ¡ temporariamente ausente,\n por favor tente mais tarde."),o(n,"inv_again","NÃ£o Ã© possÃ­vel enviar convites para usuÃ¡rios atuais, por favor, tente convidar outros usuÃ¡rios."),o(n,"queding","Determinar"),o(n,"receiveGift","ParabÃ©ns! Consiga uma ajuda!"),o(n,"getCoins","Consiga mais moedas."),o(n,"getCoinText","Assista ao vÃ­deo para receber 100 moedas de ouro?"),o(n,"getHearts","Obtenha mais forÃ§a fÃ­sica."),o(n,"getHeartText","Convide um amigo ou assista a um vÃ­deo para obter cinco pontos fortes individuais"),o(n,"giftTitel","Pacote de presente"),o(n,"settingTitel","ConfiguraÃ§Ã£o"),o(n,"langTitel","Idioma:"),o(n,"musicTitel","Music:"),o(n,"moveTitel","Obtenha mais passosï¼"),o(n,"unlockTitel","NÃ­vel de desbloqueio"),o(n,"unlockText","Convide amigos para desbloquear o nÃ­vel"),o(n,"failTitel","fail"),o(n,"videoText","VÃ­deo Falta. Por favor, tente de novo."),o(n,"shareText","Por favor parte para outro Grupo ou Amigo."),n)},cc._RF.pop()},{}],sdk_ad:[function(t,e,i){"use strict";cc._RF.push(e,"7bbceGVbB9GqazOzZL48/et","sdk_ad"),cc.Class({extends:cc.Component,properties:{adSprite:{default:null,type:cc.Sprite},pic:{default:""},game_id:{default:""},hasAd:!1},onLoad:function(){},show:function(){null!=this.node&&this.node.setPosition(cc.v2(0,0))},setAd:function(t,e){if(null!=this.node&&null!=this.adSprite){this.pic=t,this.game_id=e;var i=this,n=this.pic;cc.loader.load(n,function(t,e){i.adSprite.spriteFrame=new cc.SpriteFrame(e)}),this.hasAd=!0}},onCloseBtnClicked:function(){this.node.setPosition(cc.v2(1500,1500)),SDK().reLoadOpAd(),SDK().stat(2,this.game_id)},onPlayBtnClicked:function(){this.onCloseBtnClicked(),SDK().switchGameAsync(this.game_id)}}),cc._RF.pop()},{}],zh:[function(t,e,i){"use strict";var n;function o(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}cc._RF.push(e,"052f3sYjnRNDY4qAIzWph5c","zh"),window.i18n||(window.i18n={}),window.i18n.languages||(window.i18n.languages={}),window.i18n.languages.zh={label_text:(n={helpTip:"æ»‘åŠ¨å±å¹•æŒ‡å¼•æ–¹å‘ï¼Œæ‰¾å‡ºè¿·å®«çš„å‡ºå£ï¼!",watchAdTip:"è§‚çœ‹è§†é¢‘å¹¿å‘Š \nå¯æå‰è§£é”æ­¤å…³å¡!",watchAdBtn:"è§£é”å…³å¡",invBtn:"é‚€è¯·å¥½å‹",watchAdHelip:"è§‚çœ‹è§†é¢‘  \nå¯èŽ·å¾—5ä¸ªå¸®åŠ©!"},o(n,"watchAdBtn","é‚€è¯·"),o(n,"shareAdHelp","èŽ·å¾—æ›´å¤šæç¤º!"),o(n,"shareAdHelpText","é‚€è¯·å¥½å‹å¯ä»¥èŽ·å¾—3ä¸ªæç¤º!"),o(n,"shareAdBtn","åˆ†äº«"),o(n,"later","å…³é—­"),o(n,"replay","å¥½çš„"),o(n,"timeisup","è§‚çœ‹è§†é¢‘èŽ·å¾—æ›´å¤šæ—¶é—´!"),o(n,"timeisup_share","åˆ†äº«ç»™å¥½å‹èŽ·å¾—\né¢å¤–çš„5ç§’æ—¶é—´!"),o(n,"timeisup_end","æ—¶é—´åˆ°äº†!"),o(n,"noads","å¹¿å‘Šæš‚æ—¶ç¼ºå¤±ï¼Œ\nè¯·ç¨åŽå°è¯•ã€‚"),o(n,"inv_again","ä¸èƒ½ç»™å½“å‰ç”¨æˆ·å‘é€é‚€è¯·ï¼Œè¯·å°è¯•é‚€è¯·å…¶ä»–ç”¨æˆ·."),o(n,"queding","ç¡®å®š"),o(n,"receiveGift","æ­å–œï¼èŽ·å¾—ä¸€ä¸ªå¸®åŠ©!"),o(n,"getCoins","èŽ·å–æ›´å¤šçš„é‡‘å¸ã€‚"),o(n,"getCoinText","çœ‹è§†é¢‘æ¥èŽ·å¾—100é‡‘å¸?"),o(n,"getHearts","èŽ·å–æ›´å¤šçš„ä½“åŠ›ã€‚"),o(n,"getHeartText","é‚€è¯·ä¸€ä¸ªå¥½å‹æˆ–è€…çœ‹è§†é¢‘èŽ·å¾—äº”ä¸ªä½“åŠ›"),o(n,"giftTitel","ç¤¼åŒ…"),o(n,"settingTitel","è®¾ç½®"),o(n,"langTitel","è¯­è¨€:"),o(n,"musicTitel","éŸ³ä¹:"),o(n,"moveTitel","èŽ·å¾—æ›´å¤šæ­¥æ•°!"),o(n,"unlockTitel","è§£é”å…³å¡"),o(n,"unlockText","é‚€è¯·å¥½å‹æ¥è§£é”å…³å¡"),o(n,"failTitel","å¤±è´¥"),o(n,"videoText","è§†é¢‘ä¸è§äº†ï¼Œè¯·å†è¯•ä¸€æ¬¡ã€‚"),o(n,"shareText","è¯·ä¸Žå¦ä¸€ä¸ªæœ‹å‹æˆ–ç¾¤ç»„åˆ†äº«ã€‚"),n)},cc._RF.pop()},{}]},{},["globals","GameApplication","Player","SoundManager","facebook","facebook111","sdk_ad","SDKUtils","AnimFunc","NormalAnimation","RotationForever","ZoominForever","ZoominForever1","Enemy","GameView","HexCell","Role","Tower","LevelView","LoadLanguage","LoadingView","MainView","RankView","SettingView","TimeGift","Utils","en","es","in","pt","zh","LanguageData","LocalizedLabel","LocalizedSprite","SpriteFrameSet","polyglot.min"]);