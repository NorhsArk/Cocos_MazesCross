{"version":3,"sources":["..\\..\\..\\..\\..\\..\\assets\\Script\\UI\\Game/assets\\Script\\UI\\Game\\Role.js"],"names":["HexCell","require","cc","Class","extends","Component","properties","bg","default","type","Node","die","arrowNode","leftNode","rightNode","bottomNode","topNode","_axialCoordinate","v2","visible","axialCoordinate","get","set","val","x","y","gameView","darkNode","onLoad","start","init","active","onCollisionEnter","other","self","node","opacity","collisionCallback","setDark","isDark","setArrow","t","l","d","r","hideArrow","playDie","cb","setContentSize","size","blinking","scheduleOnce","runAction","fadeOut","a1","delayTime","a2","a3","a4","fadeIn","b1","callFunc","seq","repeat","sequence","stopAllActions","moveTo"],"mappings":"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","file":"Role.js","sourceRoot":"..\\..\\..\\..\\..\\..\\assets\\Script\\UI\\Game","sourcesContent":["var HexCell = require(\"./HexCell\");\r\n\r\ncc.Class({\r\n    extends: cc.Component,\r\n\r\n    properties: {\r\n        bg:{\r\n            default:null,\r\n            type:cc.Node,\r\n        },\r\n        die:{\r\n            default:null,\r\n            type:cc.Node,\r\n        },\r\n        arrowNode:{\r\n            default:null,\r\n            type:cc.Node,\r\n        },\r\n        leftNode:{\r\n            default:null,\r\n            type:cc.Node,\r\n        },\r\n        rightNode:{\r\n            default:null,\r\n            type:cc.Node,\r\n        },\r\n        bottomNode:{\r\n            default:null,\r\n            type:cc.Node,\r\n        },\r\n        topNode:{\r\n            default:null,\r\n            type:cc.Node,\r\n        },\r\n        _axialCoordinate:{\r\n            default:cc.v2(0,0),\r\n            visible:false,\r\n        },\r\n        axialCoordinate:{\r\n            get(){\r\n                return this._axialCoordinate;\r\n            },\r\n            set(val){\r\n                this._axialCoordinate = cc.v2(val.x,val.y);\r\n            },\r\n        },\r\n        gameView:{\r\n            default:null\r\n        },\r\n        darkNode:{\r\n            default:null,\r\n            type:cc.Node,\r\n        },\r\n\r\n    },  \r\n\r\n    onLoad: function () {\r\n    },\r\n\r\n    start () {\r\n\r\n    },\r\n\r\n    init(){\r\n        this.bg.active = true;\r\n        this.die.active = false;\r\n    },\r\n\r\n    onCollisionEnter: function (other, self) {\r\n        if(this.gameView != null){\r\n            //cc.log(\"other.node:\",other.node)\r\n            //cc.log(\"other.node.opacity:\",other.node.opacity)\r\n            if(other.node != null && other.node.opacity > 0 && other.node.active){\r\n                this.gameView.collisionCallback();    \r\n            }\r\n            \r\n        }\r\n    },\r\n\r\n    setDark(isDark){\r\n        this.darkNode.active = isDark;\r\n    },\r\n\r\n\r\n    /**\r\n    * 显示箭头\r\n    */\r\n    setArrow(t,l,d,r)\r\n    {\r\n        //寻找\r\n        this.topNode.active = t;\r\n        this.bottomNode.active = d;\r\n        this.leftNode.active = l;\r\n        this.rightNode.active = r;\r\n\r\n        this.arrowNode.active = true;\r\n    },\r\n\r\n    hideArrow(){\r\n        this.arrowNode.active = false;\r\n    },\r\n    \r\n    /**\r\n    * 死亡\r\n    */\r\n    playDie(cb)\r\n    {\r\n        var self = this;\r\n        this.bg.active = true;\r\n        this.die.active = false;\r\n        this.die.setContentSize(cc.size(100, 100));\r\n\r\n        this.blinking(this.bg,function(){\r\n            self.bg.active = false;\r\n            self.die.active = true;\r\n            self.blinking(self.die,function(){\r\n                self.die.setContentSize(cc.size(180, 180));                \r\n                self.blinking(self.die,function(){\r\n                    self.scheduleOnce(function(){\r\n                        self.die.runAction(cc.fadeOut(0.2));\r\n                    }, 0.1)\r\n                });\r\n            });\r\n        });\r\n    },\r\n\r\n    blinking(node,cb){\r\n        var a1 = cc.delayTime(0.12);\r\n        var a2 = cc.fadeOut(0.01);\r\n        var a3 = cc.delayTime(0.1);\r\n        var a4 = cc.fadeIn(0.01);\r\n        var b1 = cc.callFunc(function(){   \r\n            if(cb){\r\n                cb();\r\n            }\r\n        });\r\n\r\n        var seq = cc.repeat(cc.sequence(a1,a2,a3,a4), 2);\r\n        node.stopAllActions();\r\n        node.runAction(cc.sequence(seq,b1));\r\n    },\r\n\r\n\r\n    /**\r\n    * 移动\r\n    */\r\n    moveTo()\r\n    {\r\n\r\n    }\r\n   \r\n});\r\n"]}